{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/utils/Enums.js","webpack:///./src/scripts/utils/Configs.js","webpack:///./src/scripts/configObjects/Camera.js","webpack:///./src/scripts/SceneManager.js","webpack:///./src/scripts/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","enumConfigObjectTypes","DEFAULT_CAMERA_CONFIG","FOV","WINDOW_WIDTH","innerWidth","WINDOW_HEIGHT","innerHeight","ASPECT_RATIO","NEAR","FAR","Camera","_this","config","arguments","undefined","defaultConfig","Camera_classCallCheck","this","_defineProperty","Camera_assertThisInitialized","Camera_possibleConstructorReturn","Camera_getPrototypeOf","e","mouse","userData","target","x","y","rotation","aspect","fov","near","far","THREE","sceneManager","SceneManager","SceneManager_classCallCheck","SceneManager_defineProperty","renderer","setSize","camera","updateProjectionMatrix","windowHalf","clientX","clientY","onMouseMove","raycaster","set","getWorldPosition","getWorldDirection","intersects","intersectObjects","scene","children","material","color","console","log","event","render","configObjectType","alpha","antialias","setClearColor","document","body","appendChild","domElement","position","geometry","cube","add","materialB","cubeB","deviceOrientationIsh","onResize","preventDefault","onKeyDown","onDeviceOrientationChange","DeviceMotionEvent","sensor","Accelerometer","start","onreading","z","onScreenOrientationChange","addEventListener","requestAnimationFrame","update"],"mappings":"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","file":"js/app.7f1b7ae3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([55,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export const enumGameObjectTypes = {\n    GAME_FLOOR: \"GAME_FLOOR\",\n    TOWER_ALPHA: \"TOWER_ALPHA\",\n    SHIP: \"SHIP\",\n    METEOR: \"METEOR\"\n}\n\nexport const enumConfigObjectTypes = {\n    SCENE_MANAGER: \"SCENE_MANAGER\"\n}","export const DEFAULT_GAME_FLOOR_CONFIG = {\n    WIDTH: 20,\n    HEIGHT: 50,\n    WIDTH_SEGMENTS: 5  \n}\n\nexport const DEFAULT_TOWER_ALPHA_CONFIG = {\n    WIDTH: 1,\n    HEIGHT: 10,\n    DEPTH: 1  \n}\n\nexport const DEFAULT_SHIP_CONFIG = {\n    WIDTH: 1,\n    HEIGHT: 1,\n    SPEED: 0.0002\n}\n\nexport const DEFAULT_METEOR_CONFIG = {\n    RADIUS: .75,\n    WIDTH_SEGMENTS: 5,\n    HEIGHT_SEGMENTS: 5,\n    VALUE: 3\n}\n\nexport const DEFAULT_CAMERA_CONFIG = {\n    FOV: 45,\n    WINDOW_WIDTH: window.innerWidth,\n    WINDOW_HEIGHT: window.innerHeight, \n    ASPECT_RATIO: window.innerWidth / window.innerHeight,\n    NEAR: 0.01,\n    FAR: 1000,\n}\n\n","import * as THREE from 'three';\n\n// import { enumGameObjectTypes } from '../utils/Enums';\nimport { DEFAULT_CAMERA_CONFIG as defaultConfig } from '../utils/Configs';\n\nexport default class Camera extends THREE.PerspectiveCamera {\n  constructor(config = defaultConfig) {\n    super();\n\n    this.aspect = config.ASPECT_RATIO;\n    this.fov = config.FOV;\n    this.near = config.NEAR;\n    this.far = config.FAR;\n\n    this.userData = [];\n    this.userData.target = new THREE.Vector2(); \n\n    //this.userData.target = new THREE.Vector2();\n\n  }\n\n  onMouseMove = (e, mouse) => {\n    // let target = this.target;\n\n    this.userData.target.x = ( 1 - mouse.x ) * 0.002;\n    this.userData.target.y = ( 1 - mouse.y ) * 0.002;\n    \n    this.rotation.x += 0.05 * ( this.userData.target.y - this.rotation.x );\n    this.rotation.y += 0.05 * ( this.userData.target.x - this.rotation.y );\n    \n\n  }\n\n\n\n\n}","import * as THREE from 'three';\n\nimport Camera from './configObjects/Camera'\nimport TowerAlpha from './gameObjects/TowerAlpha'\nimport { enumConfigObjectTypes } from './utils/Enums';\n\nconst createGroup = (amount, offsetX = 1) => {\n  let group = new THREE.Group();\n\n  for( let i = 0; i < amount; i++ ){\n      let tower = new TowerAlpha();\n      tower.position.x = i * offsetX;\n\n      group.add( tower );\n\n  }\n\n  return group;\n\n}\n\nexport default class SceneManager {\n  constructor() {\n      this.configObjectType = enumConfigObjectTypes.SCENE_MANAGER;\n\n      this.userData = {};\n      this.userData.mouse = new THREE.Vector2();\n\n      // ==== RENDERER ==== //\n      this.renderer = new THREE.WebGLRenderer({\n          alpha: true,\n          antialias: true \n      });\n      this.renderer.setSize( window.innerWidth, window.innerHeight );\n      this.renderer.setClearColor(0x000000, 1);\n\n      document.body.appendChild( this.renderer.domElement );\n      // ==== RENDERER ==== //\n      \n      // ==== CAMERA ==== //\n      this.camera = new Camera();\n      this.camera.position.set(0, 0, 10);\n      // ==== CAMERA ==== //\n\n      // ==== SCENE ==== //\n      this.scene = new THREE.Scene();\n\n      var geometry = new THREE.BoxGeometry( 1, 1, 1 );\n      var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );\n      var cube = new THREE.Mesh( geometry, material );\n      this.scene.add( cube );\n\n      var materialB = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );\n      var cubeB = new THREE.Mesh( geometry, materialB );\n      cubeB.position.x = 2;\n      this.scene.add( cubeB );\n      // ==== SCENE ==== //\n\n      // ==== RAYCASTER ==== //\n      this.raycaster = new THREE.Raycaster();\n      this.intersects = [];\n      // ==== RAYCASTER ==== //\n\n      this.deviceOrientationIsh = new THREE.DeviceOrientationControls();\n      console.log(\"devcontrols: \", this.deviceOrientationIsh)\n\n\n\n\n  }\n\n  onResize = () => {\n        const WINDOW_WIDTH = window.innerWidth,\n            WINDOW_HEIGHT = window.innerHeight,\n            ASPECT_RATIO =  WINDOW_WIDTH / WINDOW_HEIGHT;\n\n        renderer.setSize(WINDOW_WIDTH, WINDOW_HEIGHT);\n\n        this.camera.updateProjectionMatrix();\n  };\n\n  onMouseMove = (e) => {\n    let windowHalf = new THREE.Vector2( \n      window.innerWidth / 2, \n      window.innerHeight / 2 \n    );\n\n\n    // ==== VR CAMERA ROTATION ==== //\n\n\t  this.userData.mouse.x = ( e.clientX - windowHalf.x );\n    this.userData.mouse.y = ( e.clientY - windowHalf.x );\n    this.camera.onMouseMove(e, this.userData.mouse)\n\n    // ==== VR CAMERA ROTATION ==== //\n\n    // ==== RAYCAST CAMERA ROTATION ==== //\n    // this.userData.mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\n    // this.userData.mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n\n    //this.raycaster.setFromCamera( this.userData.mouse, this.camera );\n    this.raycaster.set( \n      this.camera.getWorldPosition(), \n      this.camera.getWorldDirection() \n    );\n\n    this.intersects = this.raycaster.intersectObjects( \n      this.scene.children\n    );\n\n    for ( var i = 0; i < this.intersects.length; i++ ) {\n      this.intersects[ i ].object.material.color.set( 0xff0000 );\n  \n    }\n\n    // ==== RAYCAST CAMERA ROTATION==== //\n\n    console.log(\"raycast x: \", ( event.clientX / window.innerWidth ) * 2 - 1 )\n    console.log(\"vr x: \", e.clientX - windowHalf.x )\n\n\n    //this.camera.updateMatrixWorld();\n\n\n  };\n\n  update = () => {\n    this.renderer.render(this.scene, this.camera);\n\n  }\n\n  // onDeviceOrientationChange = ( event ) => {\n  //   scope.deviceOrientation = event;\n \n  // }\n \n  // onScreenOrientationChange = ( event ) => {\n  //   scope.screenOrientation = window.orientation || 0;\n \n  // }\n\n\n}","//https://jsfiddle.net/f2Lommf5/14006/\nimport '../styles/index.scss';\n\nimport * as THREE from 'three';\n\nimport GameFloor from './gameObjects/GameFloor';\nimport TowerAlpha from './gameObjects/TowerAlpha';\nimport Meteor from './gameObjects/Meteor';\nimport SceneManager from './SceneManager';\n\nlet camera,\n    canCollide = [],\n    cube,\n    mouseVector,\n    raycaster,\n    renderer,\n    scene;\n\nlet sceneManager = new SceneManager();\n\n    /*\nlet mouse = new THREE.Vector2(),\n    windowHalf = new THREE.Vector2( \n        window.innerWidth / 2, \n        window.innerHeight / 2 \n    );\n*/\n\nconst bindEventListeners = () => {\n    document.addEventListener( 'resize', onResize, false );\n    document.addEventListener( 'mousemove', onMouseMove, false );\n    document.addEventListener( 'keydown', onKeyDown, false );\n\n    window.addEventListener( \n        'deviceorientation', onDeviceOrientationChange, false \n    );\n    window.addEventListener( \n        'orientationchange', onScreenOrientationChange, false \n    );\n\n}\n\nconst onResize = (e) => {\n    e.preventDefault();\n    sceneManager.onResize(e);\n}\n\nconst onMouseMove = (e) => {\n    e.preventDefault();\n    sceneManager.onMouseMove(e);\n}\n\nconst onKeyDown = (e) => {\n    e.preventDefault();\n    //sceneManager.onKeyDown(e);\n}\n\nconst onDeviceOrientationChange = (e) => {\n    console.log(window.DeviceMotionEvent)\n    \n    let sensor = new Accelerometer();\n    sensor.start();\n\n    sensor.onreading = () => {\n        console.log(\"Acceleration along X-axis: \" + sensor.x);\n        console.log(\"Acceleration along Y-axis: \" + sensor.y);\n        console.log(\"Acceleration along Z-axis: \" + sensor.z);\n    }\n    //sceneManager.onDeviceOrientationChange(e);\n}\n\nconst onScreenOrientationChange = (e) => {\n    console.log(\"onScreenOrientationChange\")\n    //sceneManager.onScreenOrientationChange(e);\n} \n\nlet render = () => {\n    requestAnimationFrame(render);\n    sceneManager.update();\n}\n\nbindEventListeners();\nrender();\n\n/*\nconst cameraMouseRotation = () => {\n    target.x = ( 1 - mouse.x ) * 0.002;\n    target.y = ( 1 - mouse.y ) * 0.002;\n    \n    camera.rotation.x += 0.05 * ( target.y - camera.rotation.x );\n    camera.rotation.y += 0.05 * ( target.x - camera.rotation.y );\n\n}\n*/\nconst updatePosition = (e, gameObject) => {\n    let keyCode = event.which;\n\n    if (keyCode == 37) {\n        /* LEFT */ gameObject.position.x -= 0.05;\n    } else if (keyCode == 39) {\n        /* RIGHT */ gameObject.position.x += 0.05;\n    }\n\n}\n\n//https://github.com/mrdoob/three.js/blob/master/examples/webgl_raycast_sprite.html\nconst getIntersects = ( x, y ) => {\n\n    x = ( x / window.innerWidth ) * 2 - 1;\n    y = - ( y / window.innerHeight ) * 2 + 1;\n    mouseVector.set( x, y, 0.5 );\n    raycaster.setFromCamera( mouseVector, camera );\n    return raycaster.intersectObject( canCollide, true );\n}\n\nconst init = () => {\n\n    raycaster = new THREE.Raycaster()\n    mouseVector = new THREE.Vector3();\n\n\n\n    /*\n    // geometry over buffer geometry\n    var geometry = new THREE.BoxBufferGeometry( 1, 1, 1 );\n    var material = new THREE.MeshBasicMaterial( {color: 0x00ff00} );\n    cube = new THREE.Mesh( geometry, material );\n    cube.position.z = 30;\n    cube.position.x = 0;\n    \n\n    let gameFloor = new GameFloor();\n    gameFloor.rotateX(90);\n    \n    let towerGroupA = createGroup(3, 6);\n    towerGroupA.position.x = -6;\n    towerGroupA.position.z = 10;\n    canCollide.push(towerGroupA)\n\n    let towerGroupB = createGroup(3, 8);\n    towerGroupB.position.x = -8;\n    towerGroupB.position.z = -40;\n\n    let towerGroupC = createGroup(3, 6);\n    towerGroupC.position.x = -6;\n    towerGroupC.position.z = -80;\n\n    let meteor = new Meteor();\n    meteor.position.z = 60;\n    meteor.position.x = 4;\n    scene.add(meteor);\n    canCollide.push(meteor)\n\n    console.log(\"camera: \", camera)\n\n\n    //gameFloor.add(towerGroupA);\n    cube.add(camera);\n    scene.add(towerGroupA);\n    scene.add(towerGroupB);\n    scene.add(towerGroupC);\n    scene.add(cube);\n\n    //scene.add( gameFloor );\n*/\n\n};\n\n/*\nconst createGroup = (amount, offsetX = 1) => {\n    let group = new THREE.Group();\n\n    for( let i = 0; i < amount; i++ ){\n        let tower = new TowerAlpha();\n        tower.position.x = i * offsetX;\n\n        group.add( tower );\n\n    }\n\n    return group;\n\n}\n\n\n\nconst animate = () => {\n    requestAnimationFrame(animate);\n    renderer.render(scene, camera);\n\n    //cube.position.z -= 0.2;\n\n};\n\ninit();\nanimate();\n*/\n"],"sourceRoot":""}