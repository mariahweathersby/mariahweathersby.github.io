{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib/DeviceOrientationControls.js","webpack:///./src/lib/OBJLoader.js","webpack:///./src/scripts/three/configObjects/configs.js","webpack:///./src/scripts/three/configObjects/classes/Camera.js","webpack:///./src/scripts/three/gameObjects/gameObjectTypes.enum.js","webpack:///./src/scripts/three/gameObjects/configs.js","webpack:///./src/scripts/three/gameObjects/classes/Cannon.js","webpack:///./src/scripts/utils/Utils.js","webpack:///./src/scripts/three/gameObjects/classes/GameFloor.js","webpack:///./src/scripts/three/gameObjects/classes/Meteor.js","webpack:///./src/scripts/three/gameObjects/classes/Ship.js","webpack:///./src/scripts/three/gameObjects/classes/TowerAlpha.js","webpack:///./src/scripts/three/gameObjects/classes/MeteorField.js","webpack:///./src/scripts/three/gameObjects/GameObjectFactory.js","webpack:///./src/scripts/three/configObjects/configObjectTypes.enum.js","webpack:///./src/scripts/three/SceneManager.js","webpack:///./src/scripts/client/ClientManager.js","webpack:///./src/scripts/index.js","webpack:///./src/scripts/AppManager.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","THREE","scope","this","rotation","reorder","enabled","deviceOrientation","screenOrientation","alpha","alphaOffsetAngle","betaOffsetAngle","gammaOffsetAngle","onDeviceOrientationChangeEvent","event","onScreenOrientationChangeEvent","orientation","setObjectQuaternion","zee","euler","q0","q1","Math","sqrt","quaternion","beta","gamma","orient","set","setFromEuler","multiply","setFromAxisAngle","connect","addEventListener","disconnect","removeEventListener","update","degToRad","updateAlphaOffsetAngle","angle","updateBetaOffsetAngle","updateGammaOffsetAngle","dispose","manager","undefined","materials","regexp","vertex_pattern","normal_pattern","uv_pattern","face_vertex","face_vertex_uv","face_vertex_uv_normal","face_vertex_normal","object_pattern","smoothing_pattern","material_library_pattern","material_use_pattern","constructor","load","url","onLoad","onProgress","onError","loader","setPath","path","text","parse","setMaterials","_createParserState","state","objects","vertices","normals","uvs","materialLibraries","startObject","fromDeclaration","_finalize","previousMaterial","currentMaterial","geometry","smooth","startMaterial","libraries","previous","inherited","groupCount","index","material","mtllib","Array","isArray","groupStart","groupEnd","clone","end","lastMultiMaterial","declared","finalize","parseVertexIndex","len","parseInt","parseNormalIndex","parseUVIndex","addVertex","a","b","src","dst","addVertexLine","addNormal","addUV","addUVLine","addFace","ua","ub","uc","ud","na","nb","nc","nd","id","vLen","ia","ib","ic","uvLen","nLen","addLineGeometry","type","vi","uvi","console","time","indexOf","replace","lines","split","line","lineFirstChar","lineSecondChar","trimLeft","trim","charAt","exec","parseFloat","Error","lineParts","substring","lineVertices","lineUVs","li","llen","parts","substr","test","toLowerCase","container","concat","isLine","buffergeometry","addAttribute","Float32Array","computeVertexNormals","mesh","createdMaterials","mi","miLen","sourceMaterial","materialLine","copy","shading","addGroup","multiMaterial","add","timeEnd","DEFAULT_CAMERA_CONFIG","FOV","WINDOW_WIDTH","innerWidth","WINDOW_HEIGHT","innerHeight","ASPECT_RATIO","NEAR","FAR","Camera","_this","config","arguments","defaultConfig","_classCallCheck","_defineProperty","_assertThisInitialized","_possibleConstructorReturn","_getPrototypeOf","x","y","mouse","userData","target","e","aspect","far","fov","near","gameObjectType","GAME_FLOOR","TOWER_ALPHA","SHIP","METEOR","METEOR_FIELD","DEFAULT_SCENE_CONFIG","colors","green","hex","white","blue","sceneUtils","canCollide","stageObjects","sceneObjects","isMobile","DEFAULT_GAME_FLOOR_CONFIG","WIDTH","HEIGHT","WIDTH_SEGMENTS","DEFAULT_TOWER_ALPHA_CONFIG","DEPTH","DEFAULT_SHIP_CONFIG","SPEED","parent","DEFAULT_METEOR_CONFIG","RADIUS","HEIGHT_SEGMENTS","VALUE","COORDINATES","destroyVal","DEFAULT_METEOR_COORDINATES","1","2","3","4","5","6","7","8","9","Cannon","coordinates","z","Cannon_classCallCheck","Cannon_possibleConstructorReturn","Cannon_getPrototypeOf","color","wireframe","position","shaftInt","cylinder","geometryB","cylinderB","getNonZeroRandomNumber","max","min","random","getRandomValInString","string","floor","GameFloor","GameFloor_classCallCheck","GameFloor_possibleConstructorReturn","GameFloor_getPrototypeOf","size","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","vert","err","return","Meteor","_this2$position","_this2","Meteor_classCallCheck","Meteor_defineProperty","Meteor_assertThisInitialized","Meteor_possibleConstructorReturn","Meteor_getPrototypeOf","meteorDestroyVal","font","String","height","curveSegments","Newmesh","rotationAxis","rotationVelocity","_toConsumableArray","createChildMesh","Ship","Ship_classCallCheck","Ship_defineProperty","Ship_assertThisInitialized","Ship_possibleConstructorReturn","Ship_getPrototypeOf","keyCode","PI","abs","camera","raycaster","TowerAlpha","TowerAlpha_classCallCheck","TowerAlpha_possibleConstructorReturn","TowerAlpha_getPrototypeOf","MeteorField","meteorsInGroup","MeteorField_classCallCheck","MeteorField_defineProperty","MeteorField_assertThisInitialized","MeteorField_possibleConstructorReturn","MeteorField_getPrototypeOf","children","animate","GameObjectFactory","gameObjType","amount","offsetX","isConfig","createGroup","GameObj","group","groupObj","meteors","meteorMesh","createMeteorGroup","configObjectTypes","SCENE_MANAGER","CAMERA","SceneManager","SceneManager_classCallCheck","SceneManager_defineProperty","updateProjectionMatrix","renderer","setSize","controls","gameObj","objChildren","forEach","childObj","utils","getAttribute","playerShip","move","code","windowHalf","mouseCoords","clientX","clientY","onMouseMove","materialColors","currHex","newShader","rightShooter","leftShooter","starField","rotateX","loadMaterials","loadStageObjects","newConfig","JSON","stringify","toString","newMeteor","isCollider","stageScene","stageObj","scene","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","getWorldPosition","getWorldDirection","intersects","intersectObjects","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","child","render","configObjectType","rendererConfig","canvas","document","getElementById","antialias","sceneData","newCoords","ClientManager","ClientManager_classCallCheck","ClientManager_defineProperty","UI","mathViewport","classList","crosshair","introDisplay","remove","newAnswer","currentAnswer","arrayOptions","mathDictionary","newProblemIndex","newProblem","activateUI","updateProblem","initTimer","timeleft","downloadTimer","setInterval","self","timerDisplayEL","innerHTML","clearInterval","selectedVal","problemArray","newSelectedAnswerVal","updateTargetAnswer","fetchProblem","currentProblem","problemDisplayEL","newAnswerVal","newScore","scoreKeeperEL","responseState","userFeedbackDisplay","setTimeout","userSubmission","responseVal","score","updateScore","userInputResponse","currentTime","AppManager","AppManager_classCallCheck","AppManager_defineProperty","_ref","el","assignments","currentAssignment","onPressHoldInterval","gameStage","startButton","getElementsByClassName","gameStageListeners","click","updateMath","touchstart","keydown","startButtonListeners","onStart","documentListeners","onKeyDown","clearTimeout","mousemove","assignEvenListeners","onResize","from","element","navigator","userAgent","root","documentElement","requestFullScreen","bindEventListeners","sceneManager","preload","renderScene","sceneObjectHit","updateRaycaster","clientManager","validateAnswer","preventDefault","sceneStart","requestAnimationFrame","elem","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","openFullscreen","isMobileDevice","sceneconfig","init"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAKA,IAFAe,KAAAhB,GAEAO,EAAAC,QACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,EAAA,GAGAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,GAAA,EACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,oBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,aAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,GAEA,IAAAC,EAAAC,OAAA,aAAAA,OAAA,iBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,MAAA,QAEAU,qHC5IA0C,4BAAkC,SAAUP,GAE3C,IAAIQ,EAAQC,KAEZA,KAAKT,OAASA,EACdS,KAAKT,OAAOU,SAASC,QAAS,OAE9BF,KAAKG,SAAU,EAEfH,KAAKI,qBACLJ,KAAKK,kBAAoB,EAEzBL,KAAKM,MAAQ,EACbN,KAAKO,iBAAmB,EACxBP,KAAKQ,gBAAkB,EACvBR,KAAKS,iBAAmB,EAGxB,IAAIC,EAAiC,SAAUC,GAE9CZ,EAAMK,kBAAoBO,GAIvBC,EAAiC,WAEpCb,EAAMM,kBAAoBV,OAAOkB,aAAe,GAM7CC,EAAsB,WAEzB,IAAIC,EAAM,IAAIjB,IAAe,EAAG,EAAG,GAE/BkB,EAAQ,IAAIlB,IAEZmB,EAAK,IAAInB,IAEToB,EAAK,IAAIpB,KAAoBqB,KAAKC,KAAM,IAAO,EAAG,EAAGD,KAAKC,KAAM,KAEpE,OAAO,SAAUC,EAAYf,EAAOgB,EAAMC,EAAOC,GAEhDR,EAAMS,IAAKH,EAAMhB,GAASiB,EAAO,OAEjCF,EAAWK,aAAcV,GAEzBK,EAAWM,SAAUT,GAErBG,EAAWM,SAAUV,EAAGW,iBAAkBb,GAAOS,KAlBzB,GAwB1BxB,KAAK6B,QAAU,WAEdjB,IAEAjB,OAAOmC,iBAAkB,oBAAqBlB,GAAgC,GAC9EjB,OAAOmC,iBAAkB,oBAAqBpB,GAAgC,GAE9EX,EAAMI,SAAU,GAIjBH,KAAK+B,WAAa,WAEjBpC,OAAOqC,oBAAqB,oBAAqBpB,GAAgC,GACjFjB,OAAOqC,oBAAqB,oBAAqBtB,GAAgC,GAEjFX,EAAMI,SAAU,GAIjBH,KAAKiC,OAAS,WAEb,IAAuB,IAAlBlC,EAAMI,QAAX,CAEA,IAAIG,EAAQP,EAAMK,kBAAkBE,MAAQR,IAAWoC,SAAUnC,EAAMK,kBAAkBE,OAAUN,KAAKO,iBAAmB,EACvHe,EAAOvB,EAAMK,kBAAkBkB,KAAOxB,IAAWoC,SAAUnC,EAAMK,kBAAkBkB,MAAStB,KAAKQ,gBAAkB,EACnHe,EAAQxB,EAAMK,kBAAkBmB,MAAQzB,IAAWoC,SAAUnC,EAAMK,kBAAkBmB,OAAUvB,KAAKS,iBAAmB,EACvHe,EAASzB,EAAMM,kBAAoBP,IAAWoC,SAAUnC,EAAMM,mBAAsB,EAExFS,EAAqBf,EAAMR,OAAO8B,WAAYf,EAAOgB,EAAMC,EAAOC,GAClExB,KAAKM,MAAQA,IAIdN,KAAKmC,uBAAyB,SAAUC,GAEvCpC,KAAKO,iBAAmB6B,EACxBpC,KAAKiC,UAINjC,KAAKqC,sBAAwB,SAAUD,GAEtCpC,KAAKQ,gBAAkB4B,EACvBpC,KAAKiC,UAINjC,KAAKsC,uBAAyB,SAAUF,GAEvCpC,KAAKS,iBAAmB2B,EACxBpC,KAAKiC,UAINjC,KAAKuC,QAAU,WAEdvC,KAAK+B,cAIN/B,KAAK6B,yDCzHN/B,YAAkB,SAAS0C,GAEvBxC,KAAKwC,aAAuBC,IAAZD,EAAyBA,EAAU1C,IAEnDE,KAAK0C,UAAY,KAEjB1C,KAAK2C,QAEDC,eAAgB,0EAEhBC,eAAgB,2EAEhBC,WAAY,oDAEZC,YAAa,kDAEbC,eAAgB,sFAEhBC,sBAAuB,0HAEvBC,mBAAoB,8FAEpBC,eAAgB,gBAEhBC,kBAAmB,oBAEnBC,yBAA0B,WAE1BC,qBAAsB,aAK9BxD,YAAgBlD,WAEZ2G,YAAazD,YAEb0D,KAAM,SAASC,EAAKC,EAAQC,EAAYC,GAEpC,IAAI7D,EAAQC,KAER6D,EAAS,IAAI/D,IAAgBC,EAAMyC,SACvCqB,EAAOC,QAAQ9D,KAAK+D,MACpBF,EAAOL,KAAKC,EAAK,SAASO,GAEtBN,EAAO3D,EAAMkE,MAAMD,KAEpBL,EAAYC,IAInBE,QAAS,SAAShF,GAEdkB,KAAK+D,KAAOjF,GAIhBoF,aAAc,SAASxB,GAEnB1C,KAAK0C,UAAYA,GAIrByB,mBAAoB,WAEhB,IAAIC,GACAC,WACA9E,UAEA+E,YACAC,WACAC,OAEAC,qBAEAC,YAAa,SAASrG,EAAMsG,GAIxB,GAAI3E,KAAKT,SAA0C,IAAhCS,KAAKT,OAAOoF,gBAI3B,OAFA3E,KAAKT,OAAOlB,KAAOA,OACnB2B,KAAKT,OAAOoF,iBAAuC,IAApBA,GAK/B3E,KAAKT,QAA2C,mBAA1BS,KAAKT,OAAOqF,WAElC5E,KAAKT,OAAOqF,YAIhB,IAAIC,EAAoB7E,KAAKT,QAAiD,mBAAhCS,KAAKT,OAAOuF,gBAAiC9E,KAAKT,OAAOuF,uBAAoBrC,EAgG3H,GA9FAzC,KAAKT,QACDlB,KAAMA,GAAQ,GACdsG,iBAAsC,IAApBA,EAElBI,UACIT,YACAC,WACAC,QAEJ9B,aACAsC,QAAQ,EAERC,cAAe,SAAS5G,EAAM6G,GAE1B,IAAIC,EAAWnF,KAAK4E,WAAU,GAI1BO,IAAaA,EAASC,WAAaD,EAASE,YAAc,IAE1DrF,KAAK0C,UAAUhF,OAAOyH,EAASG,MAAO,GAI1C,IAAIC,GACAD,MAAOtF,KAAK0C,UAAUlG,OACtB6B,KAAMA,GAAQ,GACdmH,OAASC,MAAMC,QAAQR,IAAcA,EAAU1I,OAAS,EAAI0I,EAAUA,EAAU1I,OAAS,GAAK,GAC9FwI,YAAsBvC,IAAb0C,EAAyBA,EAASH,OAAShF,KAAKgF,OACzDW,gBAA0BlD,IAAb0C,EAAyBA,EAASS,SAAW,EAC1DA,UAAW,EACXP,YAAa,EACbD,WAAW,EAEXS,MAAO,SAASP,GACZ,OACIA,MAAyB,iBAAVA,EAAqBA,EAAQtF,KAAKsF,MACjDjH,KAAM2B,KAAK3B,KACXmH,OAAQxF,KAAKwF,OACbR,OAAQhF,KAAKgF,OACbW,WAAY3F,KAAK4F,SACjBA,UAAW,EACXP,YAAa,EACbD,WAAW,KAOvB,OAFApF,KAAK0C,UAAUhG,KAAK6I,GAEbA,GAIXT,gBAAiB,WAEb,GAAI9E,KAAK0C,UAAUlG,OAAS,EACxB,OAAOwD,KAAK0C,UAAU1C,KAAK0C,UAAUlG,OAAS,IAOtDoI,UAAW,SAASkB,GAEhB,IAAIC,EAAoB/F,KAAK8E,kBAiB7B,OAhBIiB,IAAqD,IAAhCA,EAAkBH,WAEvCG,EAAkBH,SAAW5F,KAAK+E,SAAST,SAAS9H,OAAS,EAC7DuJ,EAAkBV,WAAaU,EAAkBH,SAAWG,EAAkBJ,WAC9EI,EAAkBX,WAAY,IAKtB,IAARU,GAA2C,IAA1B9F,KAAK0C,UAAUlG,QAChCwD,KAAK0C,UAAUhG,MACX2B,KAAM,GACN2G,OAAQhF,KAAKgF,SAIde,IAWXlB,GAAoBA,EAAiBxG,MAA0C,mBAA3BwG,EAAiBgB,MAAsB,CAE3F,IAAIG,EAAWnB,EAAiBgB,MAAM,GACtCG,EAASZ,WAAY,EACrBpF,KAAKT,OAAOmD,UAAUhG,KAAKsJ,GAI/BhG,KAAKqE,QAAQ3H,KAAKsD,KAAKT,SAI3B0G,SAAU,WAEFjG,KAAKT,QAA2C,mBAA1BS,KAAKT,OAAOqF,WAElC5E,KAAKT,OAAOqF,aAMpBsB,iBAAkB,SAASpH,EAAOqH,GAE9B,IAAIb,EAAQc,SAAStH,EAAO,IAC5B,OAAoD,GAA5CwG,GAAS,EAAIA,EAAQ,EAAIA,EAAQa,EAAM,IAInDE,iBAAkB,SAASvH,EAAOqH,GAE9B,IAAIb,EAAQc,SAAStH,EAAO,IAC5B,OAAoD,GAA5CwG,GAAS,EAAIA,EAAQ,EAAIA,EAAQa,EAAM,IAInDG,aAAc,SAASxH,EAAOqH,GAE1B,IAAIb,EAAQc,SAAStH,EAAO,IAC5B,OAAoD,GAA5CwG,GAAS,EAAIA,EAAQ,EAAIA,EAAQa,EAAM,IAInDI,UAAW,SAASC,EAAGC,EAAGtI,GAEtB,IAAIuI,EAAM1G,KAAKsE,SACXqC,EAAM3G,KAAKT,OAAOwF,SAAST,SAE/BqC,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAID,EAAI,IACjBE,EAAIjK,KAAKgK,EAAID,EAAI,IACjBE,EAAIjK,KAAKgK,EAAID,EAAI,IACjBE,EAAIjK,KAAKgK,EAAIvI,EAAI,IACjBwI,EAAIjK,KAAKgK,EAAIvI,EAAI,IACjBwI,EAAIjK,KAAKgK,EAAIvI,EAAI,KAIrByI,cAAe,SAASJ,GAEpB,IAAIE,EAAM1G,KAAKsE,SACXqC,EAAM3G,KAAKT,OAAOwF,SAAST,SAE/BqC,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAIF,EAAI,KAIrBK,UAAW,SAASL,EAAGC,EAAGtI,GAEtB,IAAIuI,EAAM1G,KAAKuE,QACXoC,EAAM3G,KAAKT,OAAOwF,SAASR,QAE/BoC,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAID,EAAI,IACjBE,EAAIjK,KAAKgK,EAAID,EAAI,IACjBE,EAAIjK,KAAKgK,EAAID,EAAI,IACjBE,EAAIjK,KAAKgK,EAAIvI,EAAI,IACjBwI,EAAIjK,KAAKgK,EAAIvI,EAAI,IACjBwI,EAAIjK,KAAKgK,EAAIvI,EAAI,KAIrB2I,MAAO,SAASN,EAAGC,EAAGtI,GAElB,IAAIuI,EAAM1G,KAAKwE,IACXmC,EAAM3G,KAAKT,OAAOwF,SAASP,IAE/BmC,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAID,EAAI,IACjBE,EAAIjK,KAAKgK,EAAID,EAAI,IACjBE,EAAIjK,KAAKgK,EAAIvI,EAAI,IACjBwI,EAAIjK,KAAKgK,EAAIvI,EAAI,KAIrB4I,UAAW,SAASP,GAEhB,IAAIE,EAAM1G,KAAKwE,IACXmC,EAAM3G,KAAKT,OAAOwF,SAASP,IAE/BmC,EAAIjK,KAAKgK,EAAIF,EAAI,IACjBG,EAAIjK,KAAKgK,EAAIF,EAAI,KAIrBQ,QAAS,SAASR,EAAGC,EAAGtI,EAAGC,EAAG6I,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAEtD,IAKIC,EALAC,EAAO1H,KAAKsE,SAAS9H,OAErBmL,EAAK3H,KAAKkG,iBAAiBM,EAAGkB,GAC9BE,EAAK5H,KAAKkG,iBAAiBO,EAAGiB,GAC9BG,EAAK7H,KAAKkG,iBAAiB/H,EAAGuJ,GAgBlC,QAbUjF,IAANrE,EAEA4B,KAAKuG,UAAUoB,EAAIC,EAAIC,IAIvBJ,EAAKzH,KAAKkG,iBAAiB9H,EAAGsJ,GAE9B1H,KAAKuG,UAAUoB,EAAIC,EAAIH,GACvBzH,KAAKuG,UAAUqB,EAAIC,EAAIJ,SAIhBhF,IAAPwE,EAAkB,CAElB,IAAIa,EAAQ9H,KAAKwE,IAAIhI,OAErBmL,EAAK3H,KAAKsG,aAAaW,EAAIa,GAC3BF,EAAK5H,KAAKsG,aAAaY,EAAIY,GAC3BD,EAAK7H,KAAKsG,aAAaa,EAAIW,QAEjBrF,IAANrE,EAEA4B,KAAK8G,MAAMa,EAAIC,EAAIC,IAInBJ,EAAKzH,KAAKsG,aAAac,EAAIU,GAE3B9H,KAAK8G,MAAMa,EAAIC,EAAIH,GACnBzH,KAAK8G,MAAMc,EAAIC,EAAIJ,IAM3B,QAAWhF,IAAP4E,EAAkB,CAGlB,IAAIU,EAAO/H,KAAKuE,QAAQ/H,OACxBmL,EAAK3H,KAAKqG,iBAAiBgB,EAAIU,GAE/BH,EAAKP,IAAOC,EAAKK,EAAK3H,KAAKqG,iBAAiBiB,EAAIS,GAChDF,EAAKR,IAAOE,EAAKI,EAAK3H,KAAKqG,iBAAiBkB,EAAIQ,QAEtCtF,IAANrE,EAEA4B,KAAK6G,UAAUc,EAAIC,EAAIC,IAIvBJ,EAAKzH,KAAKqG,iBAAiBmB,EAAIO,GAE/B/H,KAAK6G,UAAUc,EAAIC,EAAIH,GACvBzH,KAAK6G,UAAUe,EAAIC,EAAIJ,MAQnCO,gBAAiB,SAAS1D,EAAUE,GAEhCxE,KAAKT,OAAOwF,SAASkD,KAAO,OAK5B,IAHA,IAAIP,EAAO1H,KAAKsE,SAAS9H,OACrBsL,EAAQ9H,KAAKwE,IAAIhI,OAEZ0L,EAAK,EAAGjK,EAAIqG,EAAS9H,OAAQ0L,EAAKjK,EAAGiK,IAE1ClI,KAAK4G,cAAc5G,KAAKkG,iBAAiB5B,EAAS4D,GAAKR,IAItD,IAAIS,EAAM,EAAf,IAAkBlK,EAAIuG,EAAIhI,OAAQ2L,EAAMlK,EAAGkK,IAEvCnI,KAAK+G,UAAU/G,KAAKsG,aAAa9B,EAAI2D,GAAML,MAUvD,OAFA1D,EAAMM,YAAY,IAAI,GAEfN,GAIXH,MAAO,SAASD,GAEZoE,QAAQC,KAAK,aAEb,IAAIjE,EAAQpE,KAAKmE,sBAEa,IAA1BH,EAAKsE,QAAQ,UAGbtE,EAAOA,EAAKuE,QAAQ,OAAQ,OAchC,IAVA,IAAIC,EAAQxE,EAAKyE,MAAM,MACnBC,EAAO,GACPC,EAAgB,GAChBC,EAAiB,GAEjBvL,KAGAwL,EAAmC,kBAAhB,GAAGA,SAEjBvM,EAAI,EAAG2B,EAAIuK,EAAMhM,OAAQF,EAAI2B,EAAG3B,IAQrC,GANAoM,EAAOF,EAAMlM,GAMM,KAJnBoM,EAAOG,EAAWH,EAAKG,WAAaH,EAAKI,QAEvBtM,QAOI,OAHtBmM,EAAgBD,EAAKK,OAAO,IAK5B,GAAsB,MAAlBJ,EAIA,GAAuB,OAFvBC,EAAiBF,EAAKK,OAAO,KAEsD,QAApD1L,EAAS2C,KAAK2C,OAAOC,eAAeoG,KAAKN,IAKpEtE,EAAME,SAAS5H,KACfuM,WAAW5L,EAAO,IAClB4L,WAAW5L,EAAO,IAClB4L,WAAW5L,EAAO,UAEf,GAAuB,MAAnBuL,GAA+E,QAApDvL,EAAS2C,KAAK2C,OAAOE,eAAemG,KAAKN,IAK3EtE,EAAMG,QAAQ7H,KACduM,WAAW5L,EAAO,IAClB4L,WAAW5L,EAAO,IAClB4L,WAAW5L,EAAO,SAEf,IAAuB,MAAnBuL,GAA2E,QAAhDvL,EAAS2C,KAAK2C,OAAOG,WAAWkG,KAAKN,IAWvE,MAAM,IAAIQ,MAAM,sCAAwCR,EAAO,KAN/DtE,EAAMI,IAAI9H,KACVuM,WAAW5L,EAAO,IAClB4L,WAAW5L,EAAO,UAQnB,GAAsB,MAAlBsL,EAEP,GAAgE,QAA3DtL,EAAS2C,KAAK2C,OAAOM,sBAAsB+F,KAAKN,IAMjDtE,EAAM4C,QACN3J,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IACxCA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IACxCA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,UAErC,GAAyD,QAApDA,EAAS2C,KAAK2C,OAAOK,eAAegG,KAAKN,IAMjDtE,EAAM4C,QACN3J,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GACxCA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,SAErC,GAA6D,QAAxDA,EAAS2C,KAAK2C,OAAOO,mBAAmB8F,KAAKN,IAMrDtE,EAAM4C,QACN3J,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,QACxCoF,OAAWA,OAAWA,OAAWA,EACjCpF,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,QAErC,IAAsD,QAAjDA,EAAS2C,KAAK2C,OAAOI,YAAYiG,KAAKN,IAW9C,MAAM,IAAIQ,MAAM,0BAA4BR,EAAO,KALnDtE,EAAM4C,QACN3J,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,SAQzC,GAAsB,MAAlBsL,EAAuB,CAE9B,IAAIQ,EAAYT,EAAKU,UAAU,GAAGN,OAAOL,MAAM,KAC3CY,KACAC,KAEJ,IAA2B,IAAvBZ,EAAKJ,QAAQ,KAEbe,EAAeF,OAIf,IAAK,IAAII,EAAK,EAAGC,EAAOL,EAAU3M,OAAQ+M,EAAKC,EAAMD,IAAM,CAEvD,IAAIE,EAAQN,EAAUI,GAAId,MAAM,KAEf,KAAbgB,EAAM,IAAWJ,EAAa3M,KAAK+M,EAAM,IAC5B,KAAbA,EAAM,IAAWH,EAAQ5M,KAAK+M,EAAM,IAKhDrF,EAAM4D,gBAAgBqB,EAAcC,QAEjC,GAAyD,QAApDjM,EAAS2C,KAAK2C,OAAOQ,eAAe6F,KAAKN,IAAiB,CAMlE,IAAIrK,EAAOhB,EAAO,GAAGqM,OAAO,GAAGZ,OAC/B1E,EAAMM,YAAYrG,QAEf,GAAI2B,KAAK2C,OAAOW,qBAAqBqG,KAAKjB,GAI7CtE,EAAM7E,OAAO0F,cAAcyD,EAAKU,UAAU,GAAGN,OAAQ1E,EAAMK,wBAExD,GAAIzE,KAAK2C,OAAOU,yBAAyBsG,KAAKjB,GAIjDtE,EAAMK,kBAAkB/H,KAAKgM,EAAKU,UAAU,GAAGN,YAE5C,IAA4D,QAAvDzL,EAAS2C,KAAK2C,OAAOS,kBAAkB4F,KAAKN,IAqBjD,CAGH,GAAa,OAATA,EAAe,SAEnB,MAAM,IAAIQ,MAAM,qBAAuBR,EAAO,KAf9C,IAAI5J,EAAQzB,EAAO,GAAGyL,OAAOc,cAC7BxF,EAAM7E,OAAOyF,OAAoB,MAAVlG,GAA2B,OAAVA,GAEpCyG,EAAWnB,EAAM7E,OAAOuF,qBAGxBS,EAASP,OAASZ,EAAM7E,OAAOyF,QAe3CZ,EAAM6B,WAEN,IAAI4D,EAAY,IAAI/J,IACpB+J,EAAUpF,qBAAuBqF,OAAO1F,EAAMK,mBAE9C,IAASnI,EAAI,EAAG2B,EAAImG,EAAMC,QAAQ7H,OAAQF,EAAI2B,EAAG3B,IAAK,CAElD,IAAIiD,EAAS6E,EAAMC,QAAQ/H,GACvByI,EAAWxF,EAAOwF,SAClBrC,EAAYnD,EAAOmD,UACnBqH,EAA4B,SAAlBhF,EAASkD,KAGvB,GAAiC,IAA7BlD,EAAST,SAAS9H,OAAtB,CAEA,IAAIwN,EAAiB,IAAIlK,IAEzBkK,EAAeC,aAAa,WAAY,IAAInK,IAAsB,IAAIoK,aAAanF,EAAST,UAAW,IAEnGS,EAASR,QAAQ/H,OAAS,EAE1BwN,EAAeC,aAAa,SAAU,IAAInK,IAAsB,IAAIoK,aAAanF,EAASR,SAAU,IAIpGyF,EAAeG,uBAIfpF,EAASP,IAAIhI,OAAS,GAEtBwN,EAAeC,aAAa,KAAM,IAAInK,IAAsB,IAAIoK,aAAanF,EAASP,KAAM,IAQhG,IAFA,IAqCI4F,EArCAC,KAEKC,EAAK,EAAGC,EAAQ7H,EAAUlG,OAAQ8N,EAAKC,EAAOD,IAAM,CAEzD,IAAIE,EAAiB9H,EAAU4H,GAC3B/E,OAAW9C,EAEf,GAAuB,OAAnBzC,KAAK0C,YAEL6C,EAAWvF,KAAK0C,UAAUvD,OAAOqL,EAAenM,MAG5C0L,GAAUxE,KAAcA,aAAoBzF,MAA0B,CAEtE,IAAI2K,EAAe,IAAI3K,IACvB2K,EAAaC,KAAKnF,GAClBA,EAAWkF,EAMdlF,KAEDA,EAAawE,EAAyC,IAAIjK,IAApC,IAAIA,KACjBzB,KAAOmM,EAAenM,MAInCkH,EAASoF,QAAUH,EAAexF,OAASlF,IAAsBA,IAEjEuK,EAAiB3N,KAAK6I,GAQ1B,GAAI8E,EAAiB7N,OAAS,EAAG,CAE7B,IAAS8N,EAAK,EAAGC,EAAQ7H,EAAUlG,OAAQ8N,EAAKC,EAAOD,IAAM,CAErDE,EAAiB9H,EAAU4H,GAC/BN,EAAeY,SAASJ,EAAe7E,WAAY6E,EAAenF,WAAYiF,GAIlF,IAAIO,EAAgB,IAAI/K,IAAoBuK,GAC5CD,EAASL,EAAyD,IAAIjK,IAAWkK,EAAgBa,GAA/E,IAAI/K,IAAWkK,EAAgBa,QAIjDT,EAASL,EAA+D,IAAIjK,IAAWkK,EAAgBK,EAAiB,IAAtG,IAAIvK,IAAWkK,EAAgBK,EAAiB,IAGtED,EAAK/L,KAAOkB,EAAOlB,KAEnBwL,EAAUiB,IAAIV,IAMlB,OAFAhC,QAAQ2C,QAAQ,aAETlB,oBCvsBFmB,GACTC,IAAK,GACLC,aAAcvL,OAAOwL,WACrBC,cAAezL,OAAO0L,YACtBC,aAAc3L,OAAOwL,WAAaxL,OAAO0L,YACzCE,KAAM,IACNC,IAAK,8rBCHYC,cACnB,SAAAA,IAAoC,IAAAC,EAAxBC,EAAwBC,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAfC,EAAe,mGAAAC,CAAA9L,KAAAyL,GAAAM,EAAAC,IAClCN,uEAAAO,CAAAjM,KAAAkM,EAAAT,GAAA3O,KAAAkD,SADkC,4BAcR,SAACmM,EAAGC,EAAGC,GACjCX,EAAKY,SAASC,OAAOJ,EAAsB,MAAhB,EAAIE,EAAMF,GACrCT,EAAKY,SAASC,OAAOH,EAAsB,MAAhB,EAAIC,EAAMD,GAErCV,EAAKzL,SAASkM,GAAK,KAAST,EAAKY,SAASC,OAAOH,EAAIV,EAAKzL,SAASkM,GACnET,EAAKzL,SAASmM,GAAK,KAASV,EAAKY,SAASC,OAAOJ,EAAIT,EAAKzL,SAASmM,KAnBjCL,EAAAC,IAAAN,IAAA,cAuBtB,SAACc,EAAGH,GAChBX,EAAKY,SAASC,OAAOJ,EAAsB,MAAhB,EAAIE,EAAMF,GACrCT,EAAKY,SAASC,OAAOH,EAAsB,MAAhB,EAAIC,EAAMD,GAErCV,EAAKzL,SAASkM,GAAK,KAAST,EAAKY,SAASC,OAAOH,EAAIV,EAAKzL,SAASkM,GACnET,EAAKzL,SAASmM,GAAK,KAASV,EAAKY,SAASC,OAAOJ,EAAIT,EAAKzL,SAASmM,KAzBnEV,EAAKe,OAASd,EAAOL,aACrBI,EAAKgB,IAAMf,EAAOH,IAClBE,EAAKiB,IAAMhB,EAAOV,IAClBS,EAAKkB,KAAOjB,EAAOJ,KAEnBG,EAAKY,YACLZ,EAAKY,SAASC,OAAS,IAAIzM,IATO4L,8OADF5L,aCHvB+M,GACTC,WAAY,aACZC,YAAa,cACbC,KAAM,OACNC,OAAQ,SACRC,aAAc,gBCHLC,GACTzK,WACI0K,QACIC,OACIC,IAAK,OAETC,OACID,IAAK,UAETE,MACIF,IAAK,SAIjBG,YACIC,cACAhL,cAEJ0B,MAAO,GACPuJ,gBACAC,gBACAtB,UACID,MAAO,KACPwB,UAAU,IAILC,GACTC,MAAO,GACPC,OAAQ,GACRC,eAAgB,IAGPC,GACTH,MAAO,EACPC,OAAQ,GACRG,MAAO,GAGEC,GACTL,MAAO,EACPC,OAAQ,EACRK,MAAO,KACP3L,WACI4L,OAAQ,OAIHC,GACTC,OAAQ,IACRP,eAAgB,EAChBQ,gBAAiB,EACjBC,MAAO,EACPC,aAAc,EAAG,EAAG,GACpBjM,WACI4L,OAAQ,KACRM,WAAY,OAIPC,GACTC,GAAI,EAAE,GAAG,IACTC,IAAK,MAAO,MAAO,IACnBC,GAAI,GAAG,KAAK,IACZC,GAAI,IAAI,KAAK,IACbC,GAAI,GAAG,KAAK,GACZC,GAAI,IAAI,KAAM,IACdC,GAAI,GAAG,EAAE,IACTC,IAAK,EAAE,EAAE,IACTC,GAAI,GAAI,EAAK,yoBClEIC,cACnB,SAAAA,IAA8C,IAAA7D,EAAlC8D,EAAkC5D,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,IAAnBO,EAAG,EAAGC,EAAG,EAAGqD,EAAG,gGAAIC,CAAA1P,KAAAuP,IAC5C7D,EAAAiE,EAAA3P,KAAA4P,EAAAL,GAAAzS,KAAAkD,QAEK+E,SAAW,IAAIjF,IAAwB,IAAK,IAAK,KACtD4L,EAAKnG,SAAW,IAAIzF,KAA0B+P,MAAO,MAAUC,WAAW,IAC1EpE,EAAKtB,KAAO,IAAItK,KACZ+P,MAAO,MACPC,WAAW,IAGfpE,EAAKqE,SAAS5D,EAAIqD,EAAYrD,EAC9BT,EAAKqE,SAAS3D,EAAIoD,EAAYpD,EAC9BV,EAAKqE,SAASN,EAAID,EAAYC,EAG9B,IAAIO,EAAW,IAAIlQ,IAA8B,KAAM,IAAK,GAAI,IAC5DmQ,EAAW,IAAInQ,IAAYkQ,EAAUtE,EAAKnG,UAC9C0K,EAAShQ,SAASkM,GAAK,IACvB8D,EAASF,SAASN,GAAK,IAGvB,IAAIS,EAAY,IAAIpQ,IAA8B,GAAI,GAAI,IAAK,GAC3DqQ,EAAY,IAAIrQ,IAAYoQ,EAAWxE,EAAKnG,UAtBJ,OAuB5C0K,EAASnF,IAAIqF,GACbA,EAAUJ,SAAS3D,GAAK,KAExBV,EAAKZ,IAAImF,GA1BmCvE,8OADZ5L,aCJvBsQ,iBAAyB,SAAzBA,IAA+C,IAArBC,EAAqBzE,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAf,EAAG0E,EAAY1E,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAN,EAC9C2E,EAAUpP,KAAKoP,SAASD,EAAOD,EACnC,OAAW,GAARE,EAAkBH,IACdG,IAoBEC,EAAuB,SAACC,GACnC,OACIA,EAAO1H,OAAO5H,KAAKuP,MAAMvP,KAAKoP,SAAWE,EAAOjU,+oBCpBjCmU,cACnB,SAAAA,IAAoC,IAAAjF,EAAxBC,EAAwBC,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAfC,+FAAe+E,CAAA5Q,KAAA2Q,IAClCjF,EAAAmF,EAAA7Q,KAAA8Q,EAAAH,GAAA7T,KAAAkD,QACO2L,OAASA,EACdD,EAAKmB,eAAiBA,EAAeC,WAErCpB,EAAK3G,SAAW,IAAIjF,IAAqB,IAAK,IAAK,GAAI,IACvD4L,EAAKnG,SAAW,IAAIzF,KAClB+P,MAAO,SACPkB,KAAM,MARwB,IAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAAzO,EAAA,IAWhC,QAAA0O,EAAAC,EAAiB1F,EAAK3G,SAAST,SAA/B1F,OAAAyS,cAAAL,GAAAG,EAAAC,EAAAE,QAAAC,MAAAP,GAAA,EAAyC,KAAhCQ,EAAgCL,EAAArS,MACvC0S,EAAK/B,EAAIW,IACToB,EAAKrF,GAAKiE,KAboB,MAAAqB,GAAAR,GAAA,EAAAC,EAAAO,EAAA,YAAAT,GAAA,MAAAI,EAAAM,QAAAN,EAAAM,SAAA,WAAAT,EAAA,MAAAC,GAAA,OAAAxF,8OADC5L,2hCCAlB6R,cACnB,SAAAA,IAAoC,IAAAC,EAAAC,EAAxBlG,EAAwBC,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAfC,EAAe,mGAAAiG,CAAA9R,KAAA2R,GAAAI,EAAAC,IAClCH,uEAAAI,CAAAjS,KAAAkS,EAAAP,GAAA7U,KAAAkD,SADkC,kBAuClB,SAACmS,GACjB,IAAIzG,EAAQsG,IAAAH,KACC,IAAI/R,KAEV0D,KAAM,0DACX,SAAE4O,GACA,IAAI7M,EACAR,EAAW,IAAIjF,IAAoBuS,OAAOF,IAC5CC,KAAMA,EACNrB,KAAM,IACNuB,OAAQ,IACRC,cAAe,IAYjBhN,EAAW,IAAIzF,KACb+P,MAAO,SACPC,WAAW,IAGb,IAAI0C,EACF,IAAI1S,IAAWiF,EAAUQ,GACzBiN,EAAQzC,SAAS5D,GAAK,IACtBqG,EAAQzC,SAAS3D,GAAK,GACxBV,EAAMZ,IAAI0H,OAvEoBT,EAAAC,IAAAH,IAAA,UA6E1B,WACRA,EAAK5R,SAAS4R,EAAKvF,SAASmG,eAAiBZ,EAAKvF,SAASoG,mBA5EzDb,EAAKlG,OAASA,EAEdkG,EAAKhF,eAAiBA,EAAeG,KACrC6E,EAAK9M,SACH,IAAIjF,IACF+R,EAAKlG,OAAO6C,OACZqD,EAAKlG,OAAOsC,eACZ4D,EAAKlG,OAAO8C,iBAahBoD,EAAKtM,SAAW,IAAIzF,KAClB+P,MAAO,MACPC,WAAW,KAGb8B,EAAAC,EAAK9B,UAAStO,IAAdtE,MAAAyU,EAAAe,EAAsBd,EAAKlG,OAAOgD,cAClCkD,EAAKvF,SAASmG,aAAejC,EAAqB,OAClDqB,EAAKvF,SAASoG,iBAAoBtC,IAA2B,GAE7DyB,EAAKjD,WAAaiD,EAAKlG,OAAO+C,MAE9BmD,EAAKzH,KACH,IAAItK,IAAW+R,EAAK9M,SAAU8M,EAAKtM,UAErCsM,EAAKe,gBAAgBf,EAAKjD,YApCMiD,8OADF/R,ssBCAf+S,cACnB,SAAAA,IAAoC,IAAAnH,EAAxBC,EAAwBC,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAfC,EAAe,mGAAAiH,CAAA9S,KAAA6S,GAAAE,EAAAC,IAClCtH,uEAAAuH,CAAAjT,KAAAkT,EAAAL,GAAA/V,KAAAkD,SADkC,OAoB7B,WAAoB,IAAnBmT,EAAmBvH,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAT,KAWhB,OAFAF,EAAKqE,SAASN,GANI,IAQX0D,GACL,IAAK,UACEzH,EAAKqE,SAAS3D,GAPA,IASjBV,EAAKzL,SAASkM,GAAKhL,KAAKiS,GAAK,GAC/B,MAEF,IAAK,YACE1H,EAAKqE,SAAS3D,IAAMjL,KAAKkS,IAbX,KAejB3H,EAAKzL,SAASkM,GAAKhL,KAAKiS,GAAK,GAC/B,MAEF,IAAK,aACA1H,EAAKqE,SAAS5D,GAlBI,MAoBrBT,EAAKzL,SAASmM,GAAKjL,KAAKiS,GAAK,GAC7B,MAEF,IAAK,YACE1H,EAAKqE,SAAS5D,IAAMhL,KAAKkS,IAxBT,OA0BnB3H,EAAKzL,SAASmM,GAAKjL,KAAKiS,GAAK,MArDDL,EAAAC,IAAAtH,IAAA,QA4D5B,SAAC4H,EAAQC,MA1Db7H,EAAKC,OAASA,EAEdD,EAAKmB,eAAiBA,EAAeG,KACrCtB,EAAK3G,SACH,IAAIjF,IACF6L,EAAOoC,MACPpC,EAAOqC,QAEXtC,EAAKnG,SAAW,IAAIzF,KAClB+P,MAAO,SACPC,WAAW,IAGbpE,EAAKtB,KACH,IAAItK,IAAW4L,EAAK3G,SAAU2G,EAAKnG,UAhBLmG,8OADJ5L,kpBCDb0T,cACnB,SAAAA,IAAoC,IAAA9H,EAAxBC,EAAwBC,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAfC,EAAe,mGAAA4H,CAAAzT,KAAAwT,IAClC9H,EAAAgI,EAAA1T,KAAA2T,EAAAH,GAAA1W,KAAAkD,QACO2L,OAASA,EAEdD,EAAKmB,eAAiBA,EAAeE,YACrCrB,EAAK3G,SACH,IAAIjF,IACF6L,EAAOoC,MACPpC,EAAOqC,OACPrC,EAAOwC,OAEXzC,EAAKnG,SAAW,IAAIzF,KAClB+P,MAAO,SACPC,WAAW,IAGbpE,EAAKtB,KACH,IAAItK,IAAW4L,EAAK3G,SAAU2G,EAAKnG,UAjBLmG,8OADE5L,8kBCCnB8T,cACjB,SAAAA,EAAYC,GAAwC,IAAAnI,EAAxBC,EAAwBC,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAfC,EAAe,mGAAAiI,CAAA9T,KAAA4T,gHAAAG,CAAAC,IAChDtI,uEAAAuI,CAAAjU,KAAAkU,EAAAN,GAAA9W,KAAAkD,SADgD,UAU1C,WAAM,IAAAgR,GAAA,EAAAC,GAAA,EAAAC,OAAAzO,EAAA,IACZ,QAAA0O,EAAAC,EAAmB1F,EAAKyI,SAAxBvV,OAAAyS,cAAAL,GAAAG,EAAAC,EAAAE,QAAAC,MAAAP,GAAA,EAAiC,CAAAG,EAAArS,MACtBsV,WAFC,MAAA3C,GAAAR,GAAA,EAAAC,EAAAO,EAAA,YAAAT,GAAA,MAAAI,EAAAM,QAAAN,EAAAM,SAAA,WAAAT,EAAA,MAAAC,MAPZxF,EAAKC,OAASA,EACdD,EAAKmB,eAAiBA,EAAeK,aAErCxB,EAAKyI,SAAWN,EANgCnI,8OADf5L,aC0E1BuU,EAtEW,SAACC,GAAsE,IAAzD3I,EAAyDC,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAhD,KAAM2I,EAA0C3I,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAjC,EAAG4I,EAA8B5I,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAApB,EAEnE6I,GAFuF7I,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,IAAAA,UAAA,GAE5ED,GAAkB,IAE7B+I,EAAc,SAACC,EAASJ,EAAQC,GAGpC,IAFA,IAAII,EAAQ,IAAI9U,IAEPxD,EAAI,EAAGA,EAAIiY,EAAQjY,IAAK,CAC7B,IAAIuY,EAAW,IAAIF,EACnBE,EAAS9E,SAAS5D,EAAI7P,EAAIkY,EAC1BI,EAAM9J,IAAK+J,GAIf,OAAOD,GAgBT,OAAON,GACL,KAAKzH,EAAeC,WAClB,OAAO,IAAI6D,EAAU8D,GAGvB,KAAK5H,EAAeI,OAClB,OAAc,GAAVsH,EACK,IAAI5C,EAAO8C,GAGXC,EAAY/C,EAAQ4C,EAAQC,GAIvC,KAAK3H,EAAeK,aAClB,OAAO,IAAI0G,EA3BW,SAACW,EAAQC,GAEjC,IADA,IAAIM,KACKxY,EAAI,EAAGA,EAAIiY,EAAQjY,IAAK,CAC7B,IAAIyY,EAAa,IAAIpD,EACrBoD,EAAWhF,SAAS5D,EAAI7P,EAAIkY,EAC5BM,EAAQpY,KAAMqY,GAGlB,OAAOD,EAoBHE,CAAkBT,EAAQC,GAC1BC,GAIJ,KAAK5H,EAAeG,KAClB,OAAO,IAAI6F,EAAK4B,GAGlB,KAAK5H,EAAeE,YAClB,OAAc,GAAVwH,EACK,IAAIf,EAAWiB,GAEfC,EAAYlB,EAAYe,EAAQC,GAI3C,QACE,IAAItL,MAAM,4BC1EL+L,IACTC,cAAe,gBACfC,OAAQ,8SCcSC,cACnB,SAAAA,IAAoC,IAAA1J,EAAA1L,KAAxB2L,EAAwBC,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,GAAAA,UAAA,GAAfC,+FAAewJ,CAAArV,KAAAoV,GAAAE,GAAAtV,KAAA,OAuC7B,WACL,IAAM+N,EAAQpO,OAAOwL,WACf6C,EAASrO,OAAO0L,YAChBC,EAAeyC,EAAQC,EAE7BtC,EAAK4H,OAAOvD,SAAStO,IAAI,EAAG,GAAI,IAChCiK,EAAK4H,OAAOiC,yBACZ7J,EAAK4H,OAAO7G,OAASnB,EAErBI,EAAK8J,SAASC,QAAS1H,EAAOC,GAE3BtC,EAAKmC,WACNnC,EAAKgK,SACH,IAAI5V,4BAAgC4L,EAAK4H,QAAQ,GACnD5H,EAAKgK,SAAS7T,aArDkByT,GAAAtV,KAAA,aA0DvB,SAAC2V,GACZ,IAAIC,EAAcD,EAAQxB,SAEvByB,EAAYpZ,OAAS,EACtBoZ,EAAYC,QAAQ,SAASC,GAC3B9V,KAAK+V,MAAMrI,WAAWhR,KAAKoZ,IAC1BpK,GAEHA,EAAKqK,MAAMrI,WAAWhR,KAAKiZ,KAlEKL,GAAAtV,KAAA,YAuExB,SAACwM,GACX,GAAc,SAAVA,EAAEvE,MACQ,aAAVuE,EAAEvE,MACQ,cAAVuE,EAAEvE,KACH,CACD,IAAIkL,EAAU3G,EAAED,OAAOyJ,aAAa,mBACpCtK,EAAKuK,WAAWC,KAAK/C,QAErBzH,EAAKuK,WAAWC,KAAK1J,EAAE2J,QA/ESb,GAAAtV,KAAA,cAoFtB,SAACwM,GAEb,IAAI4J,EAAa,IAAItW,IACnBH,OAAOwL,WAAa,EACpBxL,OAAO0L,YAAc,GAGxBK,EAAK2K,YAAYlK,EAAMK,EAAE8J,QAAUF,EAAWjK,EAC7CT,EAAK2K,YAAYjK,EAAMI,EAAE+J,QAAUH,EAAWjK,EAC9CT,EAAK4H,OAAOkD,YAAYhK,EAAGd,EAAK2K,eA7FEf,GAAAtV,KAAA,gBAiGpB,WACd,IAAIyW,EAAiB/K,EAAKhJ,UAAU0K,OACpC,IAAK,IAAIyC,KAAS4G,EAAe,CAC/B,IAAIC,EAAUD,EAAe5G,GAAOvC,IAChCqJ,EAAY,IAAI7W,KAChB+P,MAAO6G,EAAS5G,WAAW,IAG/B2G,EAAe5G,GAAOtK,SAAWoR,KAzGDrB,GAAAtV,KAAA,WA6GzB,WACT,IAAM+N,EAAQpO,OAAOwL,WACf6C,EAASrO,OAAO0L,YAChBC,EAAeyC,EAAQC,EAE7BtC,EAAK8J,SAASC,QAAQ1H,EAAOC,GAC7BtC,EAAK4H,OAAO7G,OAASnB,EACrBI,EAAK4H,OAAOiC,2BApHsBD,GAAAtV,KAAA,mBAuHjB,WAEjB0L,EAAKuK,WAAa,IAAI5B,EAAkBxH,EAAeG,MACvDtB,EAAKuK,WAAWlG,SAASN,EAAI,EAC7B/D,EAAKiC,aAAajR,KAAKgP,EAAKuK,YAI5B,IAAIW,EAAe,IAAIrH,GAAQpD,GAAI,EAAGC,GAAI,IAAMqD,GAAI,MACpDmH,EAAa3W,SAASmM,GAAK,IAC3BwK,EAAa3W,SAASkM,EAAI,IAC1BT,EAAK4H,OAAOxI,IAAI8L,GAEhB,IAAIC,EAAc,IAAItH,GAAQpD,EAAG,EAAGC,GAAI,IAAMqD,GAAI,MAClDoH,EAAY5W,SAASmM,EAAI,IACzByK,EAAY5W,SAASkM,EAAI,IACzBT,EAAK4H,OAAOxI,IAAI+L,GAIhB,IAAIC,EAAY,IAAIzC,EAAkBxH,EAAeC,YACrDgK,EAAU/G,SAAS3D,GAAK,EACxB0K,EAAU/G,SAASN,EAAI,EAEvBqH,EAAUC,QAAQ,KAClBrL,EAAKiC,aAAajR,KAAKoa,KAhJWxB,GAAAtV,KAAA,UAsJ1B,WACR0L,EAAKsL,gBACLtL,EAAKuL,mBACLvL,EAAKtH,MAAQ,UAEb,IAAK,IAAI9H,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,IAAI4a,EAAYC,KAAKlT,MAAMkT,KAAKC,UAAU7I,IAE1C2I,EAAUxI,MAAQpS,EAClB4a,EAAUxU,UAAU4L,OAClB5C,EAAKhJ,UAAU0K,OAAf,KAA8B7H,SAChC2R,EAAUxU,UAAUkM,WAClBlD,EAAKhJ,UAAU0K,OAAf,MAA+B7H,SACjC2R,EAAUvI,YAAcE,EAA2BvS,EAAE+a,YAErD,IAAIC,EACF,IAAIjD,EAAkBxH,EAAeI,OAAQiK,EAAW,EAAG,KAAM5a,GACnEoP,EAAK6L,WAAWD,GAChB5L,EAAKkC,aAAalR,KAAK4a,GAGzB5L,EAAK8L,eA3K6BlC,GAAAtV,KAAA,aA+KvB,WACX0L,EAAKuK,WAAWnL,IAAIY,EAAK4H,QADR,IAAAtC,GAAA,EAAAC,GAAA,EAAAC,OAAAzO,EAAA,IAEjB,QAAA0O,EAAAC,EAAqB1F,EAAKiC,aAA1B/O,OAAAyS,cAAAL,GAAAG,EAAAC,EAAAE,QAAAC,MAAAP,GAAA,EAAuC,KAA9ByG,EAA8BtG,EAAArS,MACrC4M,EAAKgM,MAAM5M,IAAI2M,IAHA,MAAAhG,GAAAR,GAAA,EAAAC,EAAAO,EAAA,YAAAT,GAAA,MAAAI,EAAAM,QAAAN,EAAAM,SAAA,WAAAT,EAAA,MAAAC,GAKjBxF,EAAKtH,MAAQ,WApLqBkR,GAAAtV,KAAA,aAwLvB,WACX0L,EAAKuK,WAAWnL,IAAIY,EAAK4H,QADR,IAAAqE,GAAA,EAAAC,GAAA,EAAAC,OAAApV,EAAA,IAEjB,QAAAqV,EAAAC,EAAoBrM,EAAKkC,aAAzBhP,OAAAyS,cAAAsG,GAAAG,EAAAC,EAAAzG,QAAAC,MAAAoG,GAAA,EAAsC,KAA7BhC,EAA6BmC,EAAAhZ,MACpC4M,EAAKgM,MAAM5M,IAAI6K,IAHA,MAAAlE,GAAAmG,GAAA,EAAAC,EAAApG,EAAA,YAAAkG,GAAA,MAAAI,EAAArG,QAAAqG,EAAArG,SAAA,WAAAkG,EAAA,MAAAC,GAKjBnM,EAAKtH,MAAQ,WA7LqBkR,GAAAtV,KAAA,WAgMzB,cAhMyBsV,GAAAtV,KAAA,kBAoMlB,WAEhB0L,EAAK4H,OAAO0E,mBACZtM,EAAK4H,OAAO2E,oBAEZvM,EAAK6H,UAAU9R,IACbiK,EAAK4H,OAAO0E,mBACZtM,EAAK4H,OAAO2E,qBAGdvM,EAAKwM,WAAaxM,EAAK6H,UAAU4E,iBAC/BzM,EAAKqK,MAAMrI,YAGb,IAAM,IAAIpR,EAAI,EAAGA,EAAIoP,EAAKwM,WAAW1b,OAAQF,IAE3C,OAAOoP,EAAKwM,WAAY5b,GAAIiD,OAG9B,OAAO,OAvN2B+V,GAAAtV,KAAA,SA2N3B,WAEP,GACgB,UAAd0L,EAAKtH,OAAmC,UAAdsH,EAAKtH,MAChC,KAAAgU,GAAA,EAAAC,GAAA,EAAAC,OAAA7V,EAAA,IAEC,QAAA8V,EAAAC,EAAkB9M,EAAKkC,aAAvBhP,OAAAyS,cAAA+G,GAAAG,EAAAC,EAAAlH,QAAAC,MAAA6G,GAAA,EAAoC,KAA3BK,EAA2BF,EAAAzZ,MAC9B2Z,EAAM5b,eAAe,YACvB4b,EAAMrE,WAJX,MAAA3C,GAAA4G,GAAA,EAAAC,EAAA7G,EAAA,YAAA2G,GAAA,MAAAI,EAAA9G,QAAA8G,EAAA9G,SAAA,WAAA2G,EAAA,MAAAC,GAQC5M,EAAK8J,SAASkD,OAAOhN,EAAKgM,MAAOhM,EAAK4H,QAEnC5H,EAAKY,SAASuB,UACfnC,EAAKgK,SAASzT,SAIdyJ,EAAKuK,WAAWlG,SAASN,IAAM,MACjC/D,EAAKtH,MAAQ,SA9ObpE,KAAKsT,OAAS,IAAI7H,EAClBzL,KAAKuT,UAAY,IAAIzT,IACrBE,KAAK0X,MAAQ,IAAI5X,IAEjBE,KAAK2Y,iBAAmB1D,GAAkBC,cAC1ClV,KAAK6N,SAAWlC,EAAOW,SAASuB,SAEhC7N,KAAK0C,UAAYiJ,EAAOjJ,UACxB,IAAIkW,GACFtY,OAAO,EACPuY,OAAQC,SAASC,eAAe,cAChCC,WAAW,GAEbhZ,KAAKwV,SAAW,IAAI1V,IAAoB8Y,GACxC5Y,KAAKiZ,UAAYtN,EAAOsN,UACxBjZ,KAAK4N,aAAejC,EAAOiC,aAC3B5N,KAAK2N,aAAehC,EAAOgC,aAE3B3N,KAAKoE,MAAQuH,EAAOvH,MAEpBpE,KAAK+V,MAAQpK,EAAO8B,WACpBzN,KAAKsM,SAAWX,EAAOW,SACvBtM,KAAKsM,SAASD,MAAQ,IAAIvM,IAG1BE,KAAKkY,2GAOP,OAAOlY,KAAKsM,SAASD,oBAEP6M,GACdlZ,KAAKsM,SAASD,MAAQ6M,wICnDLC,GACjB,SAAAA,IAA8B,IAAAzN,EAAA1L,KAAlB6N,EAAkBjC,UAAApP,OAAA,QAAAiG,IAAAmJ,UAAA,IAAAA,UAAA,gGAAAwN,CAAApZ,KAAAmZ,GAAAE,GAAArZ,KAAA,aAiCjB,WACT0L,EAAK4N,GAAGC,aAAaC,UAAU1O,IAAI,UACnCY,EAAK4N,GAAGG,UAAUD,UAAU1O,IAAI,UAChCY,EAAK4N,GAAGI,aAAaF,UAAUG,OAAO,YApCZN,GAAArZ,KAAA,UAuCpB,SAAC4Z,GACPlO,EAAKmO,cAAgBD,EACrB,IAAIE,EAAepO,EAAKqO,eAAeH,GACnCI,EAAkB7Y,KAAKuP,MAAMN,EAAuB,EAAG,IAIvD6J,EAAaH,EAFjBE,EAAkB7Y,KAAKkS,IAAI2G,IAI3BtO,EAAKwO,aACLxO,EAAKyO,cAAcF,GACnBvO,EAAK0O,cAlDqBf,GAAArZ,KAAA,YAsDlB,WACR,IAAIqa,EAAW,GACXC,EAAgBC,YAAY,SAACC,GACzBH,EAAShD,WAAW7a,OAAS,EAC7BkP,EAAK4N,GAAGmB,eAAeC,UAAY,IAAML,EAEzC3O,EAAK4N,GAAGmB,eAAeC,UAAYL,GAGvCA,GAAY,IACG,IACXM,cAAcL,GACd5O,EAAK4N,GAAGmB,eAAeC,UAAY,OAGxC,OArEuBrB,GAAArZ,KAAA,eAwEf,SAAC4a,GACZ,IAAIC,EAAenP,EAAKqO,eAAea,GAEvC,OAAOC,EADY1Z,KAAKuP,MAAMvP,KAAKoP,SAAWsK,EAAare,WA1EjC6c,GAAArZ,KAAA,gBA8Ed,WACZ,IAAI8a,EACA3Z,KAAKuP,MAAMN,EAAuB,EAAG,IACzC0K,EAAuB3Z,KAAKkS,IAAIyH,GAChCpP,EAAKqP,mBAAmBD,GAExB,IAAIb,EAAavO,EAAKsP,aAAaF,GACnCpP,EAAKuP,eAAiBhB,EACtBvO,EAAK4N,GAAG4B,iBAAiBR,UAAYhP,EAAKuP,iBAtFhB5B,GAAArZ,KAAA,qBA0FT,SAACmb,GAClBzP,EAAKmO,cAAgBsB,IA3FK9B,GAAArZ,KAAA,cA8FhB,SAACob,GACX1P,EAAK4N,GAAG+B,cAAcX,UAAYU,IA/FR/B,GAAArZ,KAAA,oBAkGV,SAACsb,GACjB5P,EAAK4N,GAAGiC,oBAAoB/B,UAAU1O,IAAIwQ,GAC1CE,WAAW,WACP9P,EAAK4N,GAAGiC,oBAAoB/B,UAAUG,OAAO2B,IAC9C,OAtGuBjC,GAAArZ,KAAA,iBAyGb,SAACyb,GACd,IAAIH,EAAgB,GAChBI,EAAc,EAElB,GAAID,IAAmB/P,EAAKmO,cAAc,CACtCyB,EAAgB,UAChBI,EAAc,EAEd,IAAIN,EAAW1P,EAAKiQ,OAAS,GAC7BjQ,EAAKkQ,YAAYR,QAGjBE,EAAgB,YAKpB,OAFA5P,EAAKmQ,kBAAkBP,GACvB5P,EAAKyO,gBACEuB,IAzHP1b,KAAK+Z,gBACDjL,GAAI,QAAS,QAAS,SACtBC,GAAI,QAAS,SAAU,SACvBC,GAAI,QAAS,SAAU,WACvBC,GAAI,QAAS,SAAU,UACvBC,GAAI,QAAS,UAAW,SACxBC,GAAI,QAAS,SAAU,SACvBC,GAAI,UAAW,SAAU,UACzBC,GAAI,QAAS,SAAU,WACvBC,GAAI,QAAS,SAAU,YAI3BtP,KAAK6N,SAAWA,EAChB7N,KAAKib,eAAiB,GACtBjb,KAAK6Z,cAAgB,GACrB7Z,KAAK8b,YAAc,GACnB9b,KAAK2b,MAAQ,EAEb3b,KAAKsZ,IACD4B,iBAAkBpC,SAASC,eAAe,mBAC1C0B,eAAgB3B,SAASC,eAAe,SACxCsC,cAAevC,SAASC,eAAe,gBACvCwC,oBAAqBzC,SAASC,eAAe,yBAC7CQ,aAAcT,SAASC,eAAe,iBACtCU,UAAWX,SAASC,eAAe,aACnCW,aAAcZ,SAASC,eAAe,kJCxBjC,ICIb,SAAAgD,IAAc,IAAArQ,EAAA1L,kGAAAgc,CAAAhc,KAAA+b,GAAAE,GAAAjc,KAAA,sBAaQ,SAAAkc,GAAuB,IAArBC,EAAqBD,EAArBC,GAAIC,EAAiBF,EAAjBE,YAGxB,IAAK,IAAIhd,KAAOgd,EAAa,CACzB,IAAIC,EAAoBD,EAAYhd,GACpC+c,EAAGra,iBAAiB1C,EAAKid,GAAmB,MAlBtCJ,GAAAjc,KAAA,qBAuBO,WACjB,IAAIsc,EAAsB,KAEtBC,EAAYzD,SAASC,eAAe,sBACpCyD,EAAc1D,SAASC,eAAe,SACtCrD,EAAWoD,SAAS2D,uBAAuB,kBAE3CC,GACAP,GAAII,EACJH,aACIO,MAASjR,EAAKkR,WACdC,WAAcnR,EAAKkR,WACnBE,QAAWpR,EAAKkR,aAIpBG,GACAZ,GAAIK,EACJJ,aACIO,MAASjR,EAAKsR,UAoBlBC,GAbavR,EAAKwR,UAOHC,aAAab,GACTa,aAAab,GAChBa,aAAab,IAK7BH,GAAIrD,SACJsD,aACIgB,UAAa1R,EAAK8K,YAClBsG,QAAWpR,EAAKwR,aAIxBxR,EAAK2R,oBAAoBX,GACzBhR,EAAK2R,oBAAoBN,GACzBrR,EAAK2R,oBAAoBJ,GACzBtd,OAAOmC,iBAAkB,SAAU4J,EAAK4R,UAAU,GAGlD7X,MAAM8X,KAAK7H,GAAUG,QAAQ,SAAS2H,GAElCA,EAAQ1b,iBAAiB,QAAS9B,KAAKkd,WAAW,GAElDM,EAAQ1b,iBAAiB,aAAc,SAASnB,GAAO,IAAAkR,EAAA7R,KACnDsc,EAAsB/B,YAAY,kBAAM1I,EAAKqL,UAAUvc,IAAQ,OAGnE6c,EAAQ1b,iBAAiB,UAAW,SAAS0K,GACzC2Q,aAAab,KAGjBkB,EAAQ1b,iBAAiB,cAAe,SAASnB,GAC7Cwc,aAAab,KAGjBkB,EAAQ1b,iBAAiB,WAAY,SAASnB,GAC1Cwc,aAAab,MAGlB5Q,KAhGOuQ,GAAAjc,KAAA,iBAqGG,WACb,MACI,4BAA4B2J,KAAK8T,UAAUC,aAvGrCzB,GAAAjc,KAAA,OA2GP,WACH,IAAI2d,EAAO7E,SAAS8E,gBAEhBlS,EAAKmC,WACL8P,EAAKnE,UAAU1O,IAAI,YACnBY,EAAKmS,kBAAkB/E,SAAS8E,kBAGpClS,EAAKoS,qBACLpS,EAAKqS,aAAaC,UAClBtS,EAAKuS,gBArHKhC,GAAAjc,KAAA,aAyHD,WACT,IAAIke,EAAiBxS,EAAKqS,aAAaI,kBACnCD,GACAxS,EAAK0S,cAAcC,eAAeH,EAAetP,cA5H3CqN,GAAAjc,KAAA,YAiIF,SAACwM,GACTA,EAAE8R,iBACF5S,EAAKqS,aAAab,UAAU1Q,KAnIlByP,GAAAjc,KAAA,cAsIA,SAACwM,GACXA,EAAE8R,iBACF5S,EAAKqS,aAAavH,YAAYhK,KAxIpByP,GAAAjc,KAAA,WA2IH,SAACwM,GACRA,EAAE8R,iBACF5S,EAAKqS,aAAaT,SAAS9Q,KA7IjByP,GAAAjc,KAAA,UAgJJ,WACN0L,EAAK0S,cAAcpB,QAAQ,GAC3BtR,EAAKqS,aAAaQ,eAlJRtC,GAAAjc,KAAA,cAsJA,WACVwe,sBAAsB9S,EAAKuS,aAC3BvS,EAAKqS,aAAa9b,WAxJRga,GAAAjc,KAAA,oBA2JM,SAACmc,IXtIK,SAACsC,GACzBA,EAAKC,kBACPD,EAAKC,oBACID,EAAKE,qBACdF,EAAKE,uBACIF,EAAKG,wBACdH,EAAKG,0BACIH,EAAKI,qBACdJ,EAAKI,sBW+HDC,CAAe3C,KA3Jfnc,KAAK6N,SAAW7N,KAAK+e,iBAErB,IAAIC,EAAc7H,KAAKlT,MAAMkT,KAAKC,UAAUjK,IAC5C6R,EAAY1S,SAASuB,SAAW7N,KAAK6N,SAErC7N,KAAK+d,aAAe,IAAI3I,GAAa4J,GACrChf,KAAK+d,aAAakB,OAElBjf,KAAKoe,cAAgB,IAAIjF,GAAcnZ,KAAK6N,YDZzCoR","file":"js/app.e5e300c8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([114,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import * as THREE from 'three';\n\n/**\n * @author richt / http://richt.me\n * @author WestLangley / http://github.com/WestLangley\n *\n * W3C Device Orientation control (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n */\n\n \nTHREE.DeviceOrientationControls = function( object ) {\n\n\tvar scope = this;\n\n\tthis.object = object;\n\tthis.object.rotation.reorder( \"YXZ\" );\n\n\tthis.enabled = true;\n\n\tthis.deviceOrientation = {};\n\tthis.screenOrientation = 0;\n\n\tthis.alpha = 0;\n\tthis.alphaOffsetAngle = 0;\n\tthis.betaOffsetAngle = 0;\n\tthis.gammaOffsetAngle = 0;\n\n\n\tvar onDeviceOrientationChangeEvent = function( event ) {\n\n\t\tscope.deviceOrientation = event;\n\n\t};\n\n\tvar onScreenOrientationChangeEvent = function() {\n\n\t\tscope.screenOrientation = window.orientation || 0;\n\n\t};\n\n\t// The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n\tvar setObjectQuaternion = function() {\n\n\t\tvar zee = new THREE.Vector3( 0, 0, 1 );\n\n\t\tvar euler = new THREE.Euler();\n\n\t\tvar q0 = new THREE.Quaternion();\n\n\t\tvar q1 = new THREE.Quaternion( - Math.sqrt( 0.5 ), 0, 0, Math.sqrt( 0.5 ) ); // - PI/2 around the x-axis\n\n\t\treturn function( quaternion, alpha, beta, gamma, orient ) {\n\n\t\t\teuler.set( beta, alpha, - gamma, 'YXZ' ); // 'ZXY' for the device, but 'YXZ' for us\n\n\t\t\tquaternion.setFromEuler( euler ); // orient the device\n\n\t\t\tquaternion.multiply( q1 ); // camera looks out the back of the device, not the top\n\n\t\t\tquaternion.multiply( q0.setFromAxisAngle( zee, - orient ) ); // adjust for screen orientation\n\n\t\t};\n\n\t}();\n\n\tthis.connect = function() {\n\n\t\tonScreenOrientationChangeEvent(); // run once on load\n\n\t\twindow.addEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n\t\twindow.addEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n\n\t\tscope.enabled = true;\n\n\t};\n\n\tthis.disconnect = function() {\n\n\t\twindow.removeEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n\t\twindow.removeEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n\n\t\tscope.enabled = false;\n\n\t};\n\n\tthis.update = function() {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tvar alpha = scope.deviceOrientation.alpha ? THREE.Math.degToRad( scope.deviceOrientation.alpha ) + this.alphaOffsetAngle : 0; // Z\n\t\tvar beta = scope.deviceOrientation.beta ? THREE.Math.degToRad( scope.deviceOrientation.beta ) + this.betaOffsetAngle : 0; // X'\n\t\tvar gamma = scope.deviceOrientation.gamma ? THREE.Math.degToRad( scope.deviceOrientation.gamma ) + this.gammaOffsetAngle : 0; // Y''\n\t\tvar orient = scope.screenOrientation ? THREE.Math.degToRad( scope.screenOrientation ) : 0; // O\n\n\t\tsetObjectQuaternion( scope.object.quaternion, alpha, beta, gamma, orient );\n\t\tthis.alpha = alpha;\n\n\t};\n\n\tthis.updateAlphaOffsetAngle = function( angle ) {\n\n\t\tthis.alphaOffsetAngle = angle;\n\t\tthis.update();\n\n\t};\n\n\tthis.updateBetaOffsetAngle = function( angle ) {\n\n\t\tthis.betaOffsetAngle = angle;\n\t\tthis.update();\n\n\t};\n\n\tthis.updateGammaOffsetAngle = function( angle ) {\n\n\t\tthis.gammaOffsetAngle = angle;\n\t\tthis.update();\n\n\t};\n\n\tthis.dispose = function() {\n\n\t\tthis.disconnect();\n\n\t};\n\n\tthis.connect();\n\n};\n\n// export default THREE.DeviceOrientationControls;","import * as THREE from 'three';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.OBJLoader = function(manager) {\n\n    this.manager = (manager !== undefined) ? manager : THREE.DefaultLoadingManager;\n\n    this.materials = null;\n\n    this.regexp = {\n        // v float float float\n        vertex_pattern: /^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\n        // vn float float float\n        normal_pattern: /^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\n        // vt float float\n        uv_pattern: /^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\n        // f vertex vertex vertex\n        face_vertex: /^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,\n        // f vertex/uv vertex/uv vertex/uv\n        face_vertex_uv: /^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,\n        // f vertex/uv/normal vertex/uv/normal vertex/uv/normal\n        face_vertex_uv_normal: /^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,\n        // f vertex//normal vertex//normal vertex//normal\n        face_vertex_normal: /^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,\n        // o object_name | g group_name\n        object_pattern: /^[og]\\s*(.+)?/,\n        // s boolean\n        smoothing_pattern: /^s\\s+(\\d+|on|off)/,\n        // mtllib file_reference\n        material_library_pattern: /^mtllib /,\n        // usemtl material_name\n        material_use_pattern: /^usemtl /\n    };\n\n};\n\nTHREE.OBJLoader.prototype = {\n\n    constructor: THREE.OBJLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        var scope = this;\n\n        var loader = new THREE.XHRLoader(scope.manager);\n        loader.setPath(this.path);\n        loader.load(url, function(text) {\n\n            onLoad(scope.parse(text));\n\n        }, onProgress, onError);\n\n    },\n\n    setPath: function(value) {\n\n        this.path = value;\n\n    },\n\n    setMaterials: function(materials) {\n\n        this.materials = materials;\n\n    },\n\n    _createParserState: function() {\n\n        var state = {\n            objects: [],\n            object: {},\n\n            vertices: [],\n            normals: [],\n            uvs: [],\n\n            materialLibraries: [],\n\n            startObject: function(name, fromDeclaration) {\n\n                // If the current object (initial from reset) is not from a g/o declaration in the parsed\n                // file. We need to use it for the first parsed g/o to keep things in sync.\n                if (this.object && this.object.fromDeclaration === false) {\n\n                    this.object.name = name;\n                    this.object.fromDeclaration = (fromDeclaration !== false);\n                    return;\n\n                }\n\n                if (this.object && typeof this.object._finalize === 'function') {\n\n                    this.object._finalize();\n\n                }\n\n                var previousMaterial = (this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined);\n\n                this.object = {\n                    name: name || '',\n                    fromDeclaration: (fromDeclaration !== false),\n\n                    geometry: {\n                        vertices: [],\n                        normals: [],\n                        uvs: []\n                    },\n                    materials: [],\n                    smooth: true,\n\n                    startMaterial: function(name, libraries) {\n\n                        var previous = this._finalize(false);\n\n                        // New usemtl declaration overwrites an inherited material, except if faces were declared\n                        // after the material, then it must be preserved for proper MultiMaterial continuation.\n                        if (previous && (previous.inherited || previous.groupCount <= 0)) {\n\n                            this.materials.splice(previous.index, 1);\n\n                        }\n\n                        var material = {\n                            index: this.materials.length,\n                            name: name || '',\n                            mtllib: (Array.isArray(libraries) && libraries.length > 0 ? libraries[libraries.length - 1] : ''),\n                            smooth: (previous !== undefined ? previous.smooth : this.smooth),\n                            groupStart: (previous !== undefined ? previous.groupEnd : 0),\n                            groupEnd: -1,\n                            groupCount: -1,\n                            inherited: false,\n\n                            clone: function(index) {\n                                return {\n                                    index: (typeof index === 'number' ? index : this.index),\n                                    name: this.name,\n                                    mtllib: this.mtllib,\n                                    smooth: this.smooth,\n                                    groupStart: this.groupEnd,\n                                    groupEnd: -1,\n                                    groupCount: -1,\n                                    inherited: false\n                                };\n                            }\n                        };\n\n                        this.materials.push(material);\n\n                        return material;\n\n                    },\n\n                    currentMaterial: function() {\n\n                        if (this.materials.length > 0) {\n                            return this.materials[this.materials.length - 1];\n                        }\n\n                        return undefined;\n\n                    },\n\n                    _finalize: function(end) {\n\n                        var lastMultiMaterial = this.currentMaterial();\n                        if (lastMultiMaterial && lastMultiMaterial.groupEnd === -1) {\n\n                            lastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n                            lastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n                            lastMultiMaterial.inherited = false;\n\n                        }\n\n                        // Guarantee at least one empty material, this makes the creation later more straight forward.\n                        if (end !== false && this.materials.length === 0) {\n                            this.materials.push({\n                                name: '',\n                                smooth: this.smooth\n                            });\n                        }\n\n                        return lastMultiMaterial;\n\n                    }\n                };\n\n                // Inherit previous objects material.\n                // Spec tells us that a declared material must be set to all objects until a new material is declared.\n                // If a usemtl declaration is encountered while this new object is being parsed, it will\n                // overwrite the inherited material. Exception being that there was already face declarations\n                // to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n                if (previousMaterial && previousMaterial.name && typeof previousMaterial.clone === \"function\") {\n\n                    var declared = previousMaterial.clone(0);\n                    declared.inherited = true;\n                    this.object.materials.push(declared);\n\n                }\n\n                this.objects.push(this.object);\n\n            },\n\n            finalize: function() {\n\n                if (this.object && typeof this.object._finalize === 'function') {\n\n                    this.object._finalize();\n\n                }\n\n            },\n\n            parseVertexIndex: function(value, len) {\n\n                var index = parseInt(value, 10);\n                return (index >= 0 ? index - 1 : index + len / 3) * 3;\n\n            },\n\n            parseNormalIndex: function(value, len) {\n\n                var index = parseInt(value, 10);\n                return (index >= 0 ? index - 1 : index + len / 3) * 3;\n\n            },\n\n            parseUVIndex: function(value, len) {\n\n                var index = parseInt(value, 10);\n                return (index >= 0 ? index - 1 : index + len / 2) * 2;\n\n            },\n\n            addVertex: function(a, b, c) {\n\n                var src = this.vertices;\n                var dst = this.object.geometry.vertices;\n\n                dst.push(src[a + 0]);\n                dst.push(src[a + 1]);\n                dst.push(src[a + 2]);\n                dst.push(src[b + 0]);\n                dst.push(src[b + 1]);\n                dst.push(src[b + 2]);\n                dst.push(src[c + 0]);\n                dst.push(src[c + 1]);\n                dst.push(src[c + 2]);\n\n            },\n\n            addVertexLine: function(a) {\n\n                var src = this.vertices;\n                var dst = this.object.geometry.vertices;\n\n                dst.push(src[a + 0]);\n                dst.push(src[a + 1]);\n                dst.push(src[a + 2]);\n\n            },\n\n            addNormal: function(a, b, c) {\n\n                var src = this.normals;\n                var dst = this.object.geometry.normals;\n\n                dst.push(src[a + 0]);\n                dst.push(src[a + 1]);\n                dst.push(src[a + 2]);\n                dst.push(src[b + 0]);\n                dst.push(src[b + 1]);\n                dst.push(src[b + 2]);\n                dst.push(src[c + 0]);\n                dst.push(src[c + 1]);\n                dst.push(src[c + 2]);\n\n            },\n\n            addUV: function(a, b, c) {\n\n                var src = this.uvs;\n                var dst = this.object.geometry.uvs;\n\n                dst.push(src[a + 0]);\n                dst.push(src[a + 1]);\n                dst.push(src[b + 0]);\n                dst.push(src[b + 1]);\n                dst.push(src[c + 0]);\n                dst.push(src[c + 1]);\n\n            },\n\n            addUVLine: function(a) {\n\n                var src = this.uvs;\n                var dst = this.object.geometry.uvs;\n\n                dst.push(src[a + 0]);\n                dst.push(src[a + 1]);\n\n            },\n\n            addFace: function(a, b, c, d, ua, ub, uc, ud, na, nb, nc, nd) {\n\n                var vLen = this.vertices.length;\n\n                var ia = this.parseVertexIndex(a, vLen);\n                var ib = this.parseVertexIndex(b, vLen);\n                var ic = this.parseVertexIndex(c, vLen);\n                var id;\n\n                if (d === undefined) {\n\n                    this.addVertex(ia, ib, ic);\n\n                } else {\n\n                    id = this.parseVertexIndex(d, vLen);\n\n                    this.addVertex(ia, ib, id);\n                    this.addVertex(ib, ic, id);\n\n                }\n\n                if (ua !== undefined) {\n\n                    var uvLen = this.uvs.length;\n\n                    ia = this.parseUVIndex(ua, uvLen);\n                    ib = this.parseUVIndex(ub, uvLen);\n                    ic = this.parseUVIndex(uc, uvLen);\n\n                    if (d === undefined) {\n\n                        this.addUV(ia, ib, ic);\n\n                    } else {\n\n                        id = this.parseUVIndex(ud, uvLen);\n\n                        this.addUV(ia, ib, id);\n                        this.addUV(ib, ic, id);\n\n                    }\n\n                }\n\n                if (na !== undefined) {\n\n                    // Normals are many times the same. If so, skip function call and parseInt.\n                    var nLen = this.normals.length;\n                    ia = this.parseNormalIndex(na, nLen);\n\n                    ib = na === nb ? ia : this.parseNormalIndex(nb, nLen);\n                    ic = na === nc ? ia : this.parseNormalIndex(nc, nLen);\n\n                    if (d === undefined) {\n\n                        this.addNormal(ia, ib, ic);\n\n                    } else {\n\n                        id = this.parseNormalIndex(nd, nLen);\n\n                        this.addNormal(ia, ib, id);\n                        this.addNormal(ib, ic, id);\n\n                    }\n\n                }\n\n            },\n\n            addLineGeometry: function(vertices, uvs) {\n\n                this.object.geometry.type = 'Line';\n\n                var vLen = this.vertices.length;\n                var uvLen = this.uvs.length;\n\n                for (var vi = 0, l = vertices.length; vi < l; vi++) {\n\n                    this.addVertexLine(this.parseVertexIndex(vertices[vi], vLen));\n\n                }\n\n                for (var uvi = 0, l = uvs.length; uvi < l; uvi++) {\n\n                    this.addUVLine(this.parseUVIndex(uvs[uvi], uvLen));\n\n                }\n\n            }\n\n        };\n\n        state.startObject('', false);\n\n        return state;\n\n    },\n\n    parse: function(text) {\n\n        console.time('OBJLoader');\n\n        var state = this._createParserState();\n\n        if (text.indexOf('\\r\\n') !== -1) {\n\n            // This is faster than String.split with regex that splits on both\n            text = text.replace('\\r\\n', '\\n');\n\n        }\n\n        var lines = text.split('\\n');\n        var line = '',\n            lineFirstChar = '',\n            lineSecondChar = '';\n        var lineLength = 0;\n        var result = [];\n\n        // Faster to just trim left side of the line. Use if available.\n        var trimLeft = (typeof ''.trimLeft === 'function');\n\n        for (var i = 0, l = lines.length; i < l; i++) {\n\n            line = lines[i];\n\n            line = trimLeft ? line.trimLeft() : line.trim();\n\n            lineLength = line.length;\n\n            if (lineLength === 0) continue;\n\n            lineFirstChar = line.charAt(0);\n\n            // @todo invoke passed in handler if any\n            if (lineFirstChar === '#') continue;\n\n            if (lineFirstChar === 'v') {\n\n                lineSecondChar = line.charAt(1);\n\n                if (lineSecondChar === ' ' && (result = this.regexp.vertex_pattern.exec(line)) !== null) {\n\n                    // 0                  1      2      3\n                    // [\"v 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n                    state.vertices.push(\n                    parseFloat(result[1]),\n                    parseFloat(result[2]),\n                    parseFloat(result[3]));\n\n                } else if (lineSecondChar === 'n' && (result = this.regexp.normal_pattern.exec(line)) !== null) {\n\n                    // 0                   1      2      3\n                    // [\"vn 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n                    state.normals.push(\n                    parseFloat(result[1]),\n                    parseFloat(result[2]),\n                    parseFloat(result[3]));\n\n                } else if (lineSecondChar === 't' && (result = this.regexp.uv_pattern.exec(line)) !== null) {\n\n                    // 0               1      2\n                    // [\"vt 0.1 0.2\", \"0.1\", \"0.2\"]\n\n                    state.uvs.push(\n                    parseFloat(result[1]),\n                    parseFloat(result[2]));\n\n                } else {\n\n                    throw new Error(\"Unexpected vertex/normal/uv line: '\" + line + \"'\");\n\n                }\n\n            } else if (lineFirstChar === \"f\") {\n\n                if ((result = this.regexp.face_vertex_uv_normal.exec(line)) !== null) {\n\n                    // f vertex/uv/normal vertex/uv/normal vertex/uv/normal\n                    // 0                        1    2    3    4    5    6    7    8    9   10         11         12\n                    // [\"f 1/1/1 2/2/2 3/3/3\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"3\", \"3\", \"3\", undefined, undefined, undefined]\n\n                    state.addFace(\n                    result[1], result[4], result[7], result[10],\n                    result[2], result[5], result[8], result[11],\n                    result[3], result[6], result[9], result[12]);\n\n                } else if ((result = this.regexp.face_vertex_uv.exec(line)) !== null) {\n\n                    // f vertex/uv vertex/uv vertex/uv\n                    // 0                  1    2    3    4    5    6   7          8\n                    // [\"f 1/1 2/2 3/3\", \"1\", \"1\", \"2\", \"2\", \"3\", \"3\", undefined, undefined]\n\n                    state.addFace(\n                    result[1], result[3], result[5], result[7],\n                    result[2], result[4], result[6], result[8]);\n\n                } else if ((result = this.regexp.face_vertex_normal.exec(line)) !== null) {\n\n                    // f vertex//normal vertex//normal vertex//normal\n                    // 0                     1    2    3    4    5    6   7          8\n                    // [\"f 1//1 2//2 3//3\", \"1\", \"1\", \"2\", \"2\", \"3\", \"3\", undefined, undefined]\n\n                    state.addFace(\n                    result[1], result[3], result[5], result[7],\n                    undefined, undefined, undefined, undefined,\n                    result[2], result[4], result[6], result[8]);\n\n                } else if ((result = this.regexp.face_vertex.exec(line)) !== null) {\n\n                    // f vertex vertex vertex\n                    // 0            1    2    3   4\n                    // [\"f 1 2 3\", \"1\", \"2\", \"3\", undefined]\n\n                    state.addFace(\n                    result[1], result[2], result[3], result[4]);\n\n                } else {\n\n                    throw new Error(\"Unexpected face line: '\" + line + \"'\");\n\n                }\n\n            } else if (lineFirstChar === \"l\") {\n\n                var lineParts = line.substring(1).trim().split(\" \");\n                var lineVertices = [],\n                    lineUVs = [];\n\n                if (line.indexOf(\"/\") === -1) {\n\n                    lineVertices = lineParts;\n\n                } else {\n\n                    for (var li = 0, llen = lineParts.length; li < llen; li++) {\n\n                        var parts = lineParts[li].split(\"/\");\n\n                        if (parts[0] !== \"\") lineVertices.push(parts[0]);\n                        if (parts[1] !== \"\") lineUVs.push(parts[1]);\n\n                    }\n\n                }\n                state.addLineGeometry(lineVertices, lineUVs);\n\n            } else if ((result = this.regexp.object_pattern.exec(line)) !== null) {\n\n                // o object_name\n                // or\n                // g group_name\n\n                var name = result[0].substr(1).trim();\n                state.startObject(name);\n\n            } else if (this.regexp.material_use_pattern.test(line)) {\n\n                // material\n\n                state.object.startMaterial(line.substring(7).trim(), state.materialLibraries);\n\n            } else if (this.regexp.material_library_pattern.test(line)) {\n\n                // mtl file\n\n                state.materialLibraries.push(line.substring(7).trim());\n\n            } else if ((result = this.regexp.smoothing_pattern.exec(line)) !== null) {\n\n                // smooth shading\n\n                // @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n                // but does not define a usemtl for each face set.\n                // This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n                // This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n                // where explicit usemtl defines geometry groups.\n                // Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n                var value = result[1].trim().toLowerCase();\n                state.object.smooth = (value === '1' || value === 'on');\n\n                var material = state.object.currentMaterial();\n                if (material) {\n\n                    material.smooth = state.object.smooth;\n\n                }\n\n            } else {\n\n                // Handle null terminated files without exception\n                if (line === '\\0') continue;\n\n                throw new Error(\"Unexpected line: '\" + line + \"'\");\n\n            }\n\n        }\n\n        state.finalize();\n\n        var container = new THREE.Group();\n        container.materialLibraries = [].concat(state.materialLibraries);\n\n        for (var i = 0, l = state.objects.length; i < l; i++) {\n\n            var object = state.objects[i];\n            var geometry = object.geometry;\n            var materials = object.materials;\n            var isLine = (geometry.type === 'Line');\n\n            // Skip o/g line declarations that did not follow with any faces\n            if (geometry.vertices.length === 0) continue;\n\n            var buffergeometry = new THREE.BufferGeometry();\n\n            buffergeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(geometry.vertices), 3));\n\n            if (geometry.normals.length > 0) {\n\n                buffergeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(geometry.normals), 3));\n\n            } else {\n\n                buffergeometry.computeVertexNormals();\n\n            }\n\n            if (geometry.uvs.length > 0) {\n\n                buffergeometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(geometry.uvs), 2));\n\n            }\n\n            // Create materials\n\n            var createdMaterials = [];\n\n            for (var mi = 0, miLen = materials.length; mi < miLen; mi++) {\n\n                var sourceMaterial = materials[mi];\n                var material = undefined;\n\n                if (this.materials !== null) {\n\n                    material = this.materials.create(sourceMaterial.name);\n\n                    // mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n                    if (isLine && material && !(material instanceof THREE.LineBasicMaterial)) {\n\n                        var materialLine = new THREE.LineBasicMaterial();\n                        materialLine.copy(material);\n                        material = materialLine;\n\n                    }\n\n                }\n\n                if (!material) {\n\n                    material = (!isLine ? new THREE.MeshPhongMaterial() : new THREE.LineBasicMaterial());\n                    material.name = sourceMaterial.name;\n\n                }\n\n                material.shading = sourceMaterial.smooth ? THREE.SmoothShading : THREE.FlatShading;\n\n                createdMaterials.push(material);\n\n            }\n\n            // Create mesh\n\n            var mesh;\n\n            if (createdMaterials.length > 1) {\n\n                for (var mi = 0, miLen = materials.length; mi < miLen; mi++) {\n\n                    var sourceMaterial = materials[mi];\n                    buffergeometry.addGroup(sourceMaterial.groupStart, sourceMaterial.groupCount, mi);\n\n                }\n\n                var multiMaterial = new THREE.MultiMaterial(createdMaterials);\n                mesh = (!isLine ? new THREE.Mesh(buffergeometry, multiMaterial) : new THREE.Line(buffergeometry, multiMaterial));\n\n            } else {\n\n                mesh = (!isLine ? new THREE.Mesh(buffergeometry, createdMaterials[0]) : new THREE.Line(buffergeometry, createdMaterials[0]));\n            }\n\n            mesh.name = object.name;\n\n            container.add(mesh);\n\n        }\n\n        console.timeEnd('OBJLoader');\n\n        return container;\n\n    }\n\n}; ","export const DEFAULT_CAMERA_CONFIG = {\n    FOV: 45,\n    WINDOW_WIDTH: window.innerWidth,\n    WINDOW_HEIGHT: window.innerHeight, \n    ASPECT_RATIO: window.innerWidth / window.innerHeight,\n    NEAR: 0.01,\n    FAR: 1000,\n}\n\n","import * as THREE from 'three';\nimport { DEFAULT_CAMERA_CONFIG as defaultConfig } from '../configs';\n\nexport default class Camera extends THREE.PerspectiveCamera {\n  constructor(config = defaultConfig) {\n    super();\n\n    this.aspect = config.ASPECT_RATIO;\n    this.far = config.FAR;\n    this.fov = config.FOV;\n    this.near = config.NEAR;\n\n    this.userData = [];\n    this.userData.target = new THREE.Vector2(); \n\n\n  }\n\n  onDeviceOrientationChange = (x, y, mouse) => {\n    this.userData.target.x = ( 1 - mouse.x ) * 0.002;\n    this.userData.target.y = ( 1 - mouse.y ) * 0.002;\n    \n    this.rotation.x += 0.05 * ( this.userData.target.y - this.rotation.x );\n    this.rotation.y += 0.05 * ( this.userData.target.x - this.rotation.y );\n\n  };\n\n  onMouseMove = (e, mouse) => {\n    this.userData.target.x = ( 1 - mouse.x ) * 0.002;\n    this.userData.target.y = ( 1 - mouse.y ) * 0.002;\n    \n    this.rotation.x += 0.05 * ( this.userData.target.y - this.rotation.x );\n    this.rotation.y += 0.05 * ( this.userData.target.x - this.rotation.y );\n\n  };\n\n\n}","export const gameObjectType = {\n    GAME_FLOOR: \"GAME_FLOOR\",\n    TOWER_ALPHA: \"TOWER_ALPHA\",\n    SHIP: \"SHIP\",\n    METEOR: \"METEOR\",\n    METEOR_FIELD: \"METEOR_FIELD\"\n};\n","import * as THREE from 'three';\n\nexport const DEFAULT_SCENE_CONFIG = {\n    materials: {\n        colors: {\n            'green': {\n                hex: 0x00ffff,\n            },\n            'white': {\n                hex: 0xffffff,\n            },\n            'blue': { \n                hex: 0x00ffff,\n            }\n        },\n    },\n    sceneUtils: {\n        canCollide: [],\n        materials: {}\n    },\n    state: \"\",\n    stageObjects: [],\n    sceneObjects: [],\n    userData: {\n        mouse: null,\n        isMobile: false,\n    } \n}\n\nexport const DEFAULT_GAME_FLOOR_CONFIG = {\n    WIDTH: 20,\n    HEIGHT: 50,\n    WIDTH_SEGMENTS: 50  \n}\n\nexport const DEFAULT_TOWER_ALPHA_CONFIG = {\n    WIDTH: 1,\n    HEIGHT: 10,\n    DEPTH: 1  \n}\n\nexport const DEFAULT_SHIP_CONFIG = {\n    WIDTH: 1,\n    HEIGHT: 1,\n    SPEED: 0.0002,\n    materials: {\n        parent: null,\n    }\n}\n\nexport const DEFAULT_METEOR_CONFIG = {\n    RADIUS: .75,\n    WIDTH_SEGMENTS: 5,\n    HEIGHT_SEGMENTS: 5,\n    VALUE: 0,\n    COORDINATES: [0, 0, 0],\n    materials: {\n        parent: null,\n        destroyVal: null\n    }\n}\n\nexport const DEFAULT_METEOR_COORDINATES = {\n    1: [0,0,-10],\n    2: [-2.65, -4.75, -15],\n    3: [10,2.75,12],\n    4: [15,-3.75,18],\n    5: [13,5.75,6],\n    6: [8.5,2.30,-10],\n    7: [2,-4,13],\n    8: [-2,9,15],\n    9: [5, -1.0, 0],\n}\n","import * as THREE from 'three';\n\nimport { gameObjectType } from '../gameObjectTypes.enum';\nimport { DEFAULT_GAME_FLOOR_CONFIG as defaultConfig } from '../configs';\n\nexport default class Cannon extends THREE.Mesh {\n  constructor(coordinates = {x: 0, y: 0, z: 0}) {\n    super();\n\n    this.geometry = new THREE.BoxBufferGeometry(.25, .25, .75);\n    this.material = new THREE.MeshBasicMaterial( {color: 0x00ff00, wireframe: true} );\n    this.mesh = new THREE.Mesh({\n        color: 0x00ff00,\n        wireframe: true,\n      });\n\n    this.position.x = coordinates.x;\n    this.position.y = coordinates.y;\n    this.position.z = coordinates.z;\n\n\n    var shaftInt = new THREE.CylinderBufferGeometry( .045, .05, .5, 10 );\n    var cylinder = new THREE.Mesh( shaftInt, this.material );\n    cylinder.rotation.x = -1.5;\n    cylinder.position.z = -.65;\n\n\n    var geometryB = new THREE.CylinderBufferGeometry( .1, .1, .75, 6 );\n    var cylinderB = new THREE.Mesh( geometryB, this.material );\n    cylinder.add(cylinderB);\n    cylinderB.position.y = -.425;\n\n    this.add(cylinder);\n\n  }\n\n\n\n}\n\n","// http://jsfiddle.net/brunovieira/mb26C/\nexport const getNonZeroRandomNumber = (max = 1, min = 2) => {\n    var random = (Math.random()*min) - max;\n    if(random==0) return getNonZeroRandomNumber();\n    return random;\n};\n\n\n//https://blackthread.io/blog/promisifying-threejs-loaders/#promises-promises\nexport const promisifyLoader =  ( loader, onProgress ) => {\n  const promiseLoader = ( url ) => {\n    return new Promise( ( resolve, reject ) => {\n      loader.load( url, resolve, onProgress, reject );\n    } );\n  };\n\n  return {\n    originalLoader: loader,\n    load: promiseLoader,\n  };\n\n};\n\n// https://stackoverflow.com/questions/1349404/generate-random-string-characters-in-javascript\nexport const getRandomValInString = (string) => {\n  return (\n      string.charAt(Math.floor(Math.random() * string.length))\n  );\n};\n\n// https://www.w3schools.com/howto/howto_js_fullscreen.asp\nexport const openFullscreen = (elem) => {\n  if (elem.requestFullscreen) {\n    elem.requestFullscreen();\n  } else if (elem.mozRequestFullScreen) { /* Firefox */\n    elem.mozRequestFullScreen();\n  } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */\n    elem.webkitRequestFullscreen();\n  } else if (elem.msRequestFullscreen) { /* IE/Edge */\n    elem.msRequestFullscreen();\n  }\n};\n\n\n//https://stackoverflow.com/questions/3745666/how-to-convert-from-hex-to-ascii-in-javascript\nexport const stringToHex = (hexString) => {\n  var arr = [];\n  for (var i = 0, l = hexString.length; i < l; i ++) {\n    var hex = Number(hexString.charCodeAt(i)).toString(16);\n    arr.push(hex);\n  }\n  return arr.join('');\n};\n\nexport const hexToString = (hexCode) => {\n  var hex = hexCode.toString();//force conversion\n  var str = '';\n  for (var i = 0; (i < hex.length && hex.substr(i, 2) !== '00'); i += 2)\n      str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));\n  return str;\n};","import * as THREE from 'three';\n\nimport { gameObjectType } from '../gameObjectTypes.enum';\nimport { DEFAULT_GAME_FLOOR_CONFIG as defaultConfig } from '../configs';\nimport { getNonZeroRandomNumber } from '../../../utils/Utils';\n\nexport default class GameFloor extends THREE.Points {\n  constructor(config = defaultConfig) {\n    super();\n      this.config = config;\n      this.gameObjectType = gameObjectType.GAME_FLOOR;\n\n      this.geometry = new THREE.PlaneGeometry( 100, 100, 70, 70 )\n      this.material = new THREE.PointsMaterial( { \n        color: 0xffffff,\n        size: .15, \n      } );\n\n      for (let vert of this.geometry.vertices ){\n        vert.z = getNonZeroRandomNumber();\n        vert.x -= getNonZeroRandomNumber();\n    \n      }\n\n  }\n\n\n}","import * as THREE from 'three';\n\nimport { gameObjectType } from '../gameObjectTypes.enum';\nimport { DEFAULT_METEOR_CONFIG as defaultConfig } from '../configs';\nimport { getNonZeroRandomNumber, getRandomValInString } from '../../../utils/Utils';\n\nexport default class Meteor extends THREE.Mesh {\n  constructor(config = defaultConfig) {\n    super();\n      this.config = config;\n      \n      this.gameObjectType = gameObjectType.SHIP;\n      this.geometry = \n        new THREE.SphereGeometry(\n          this.config.RADIUS, \n          this.config.WIDTH_SEGMENTS,\n          this.config.HEIGHT_SEGMENTS \n        );\n      \n      // if(this.config.materials.parent){\n      //   console.log(\"skip material\")\n      //   this.material = this.config.material;\n      // } else {\n      //   this.material = new THREE.MeshBasicMaterial({\n      //     color: 0x00ffff,\n      //     wireframe: true\n      //   });\n      // }\n\n      this.material = new THREE.MeshBasicMaterial({\n        color: 0x00ffff,\n        wireframe: true\n      });\n\n      this.position.set( ...this.config.COORDINATES);\n      this.userData.rotationAxis = getRandomValInString(\"xyz\");\n      this.userData.rotationVelocity = (getNonZeroRandomNumber() / 10);\n\n      this.destroyVal = this.config.VALUE;\n\n      this.mesh = \n        new THREE.Mesh(this.geometry, this.material);\n        \n      this.createChildMesh(this.destroyVal)\n  }\n\n  createChildMesh = (meteorDestroyVal) => {\n    let _this = this;\n    let loader = new THREE.FontLoader();\n\n    loader.load( '../../src/assets/fonts/helvetiker_regular.typeface.json', \n      ( font ) => { \n        let material = null;\n        let geometry = new THREE.TextGeometry( String(meteorDestroyVal), {\n          font: font,\n          size: .75,\n          height: .25,\n          curveSegments: 1,\n        });\n\n        // if(_this.config.materials.destroyVal){\n        //   material = _this.config.materials.destroyVal;\n        // } else {\n        //   material = new THREE.MeshBasicMaterial({\n        //     color: 0xffffff,\n        //     wireframe: true\n        //   });\n        // }\n\n        material = new THREE.MeshBasicMaterial({\n          color: 0xffffff,\n          wireframe: true\n        })\n\n        var Newmesh = \n          new THREE.Mesh(geometry, material);\n          Newmesh.position.x = -0.25\n          Newmesh.position.y = -0.3\n        _this.add(Newmesh);\n\n      }\n    );\n  }\n\n  animate = () => {\n    this.rotation[this.userData.rotationAxis] += this.userData.rotationVelocity;\n  }\n\n\n}","\nimport * as THREE from 'three';\n\nimport { gameObjectType } from '../gameObjectTypes.enum';\nimport { DEFAULT_SHIP_CONFIG as defaultConfig } from '../configs';\n\nexport default class Ship extends THREE.Mesh {\n  constructor(config = defaultConfig) {\n    super();\n      this.config = config;\n\n      this.gameObjectType = gameObjectType.SHIP;\n      this.geometry = \n        new THREE.BoxGeometry(\n          config.WIDTH, \n          config.HEIGHT, \n        );\n      this.material = new THREE.MeshBasicMaterial({\n        color: 0xee0000,\n        wireframe: true\n      });\n\n      this.mesh = \n        new THREE.Mesh(this.geometry, this.material);\n\n  }\n\n  move = (keyCode = null) => {\n    // REFACTOR = dictinary of methods??\n    // REFACTOR = config val not here???\n    let thrustSpeed = 0.05;\n    let bankSpeed = 0.25;\n\n    let verticalBoundary = 2;\n    let horizontalBoundary = 3.5;\n\n    this.position.z -= thrustSpeed;\n\n    switch(keyCode){\n      case 'ArrowUp':\n        if ( this.position.y <= verticalBoundary )\n          // this.position.y += bankSpeed;\n          this.rotation.x -= Math.PI / 2\n        break;\n\n      case 'ArrowDown':\n        if ( this.position.y >= -Math.abs(verticalBoundary) )\n          // this.position.y -= bankSpeed;\n          this.rotation.x += Math.PI / 2\n        break;\n\n      case 'ArrowRight':\n      if ( this.position.x <= horizontalBoundary )\n        // this.position.x += bankSpeed;\n        this.rotation.y -= Math.PI / 2\n        break;\n\n      case 'ArrowLeft':\n        if ( this.position.x >= -Math.abs(horizontalBoundary) )\n          // this.position.x -= bankSpeed;\n          this.rotation.y += Math.PI / 2\n        break;\n\n    }\n    \n  }\n\n  shoot = (camera, raycaster) => {\n    /*\n    let rotationCoord = {\n      x: camera.rotation.x,\n      y: camera.rotation.y,\n      z: camera.rotation.z\n    }\n    let originCoord = this.position;\n\n    raycaster.ray.direction.copy( direction ).applyEuler(rotationCoord);\n    raycaster.ray.origin.copy( this.position );\n\n    let intersections = raycaster.intersectObjects( cubes.children );\n    console.log(intersections)\n    */\n  }\n\n\n\n\n}","import * as THREE from 'three';\n\nimport { gameObjectType } from '../gameObjectTypes.enum';\nimport { DEFAULT_TOWER_ALPHA_CONFIG as defaultConfig } from '../configs';\n\nexport default class TowerAlpha extends THREE.Mesh {\n  constructor(config = defaultConfig) {\n    super();\n      this.config = config;\n\n      this.gameObjectType = gameObjectType.TOWER_ALPHA;\n      this.geometry = \n        new THREE.BoxGeometry(\n          config.WIDTH, \n          config.HEIGHT, \n          config.DEPTH\n        );\n      this.material = new THREE.MeshBasicMaterial({\n        color: 0xff0000,\n        wireframe: true\n      });\n\n      this.mesh = \n        new THREE.Mesh(this.geometry, this.material);\n\n  }\n\n\n}","import * as THREE from 'three';\n\nimport { gameObjectType } from '../gameObjectTypes.enum';\nimport { DEFAULT_GAME_FLOOR_CONFIG as defaultConfig } from '../configs';\nimport { getNonZeroRandomNumber } from '../../../utils/Utils';\n\nexport default class MeteorField extends THREE.Group {\n    constructor(meteorsInGroup, config = defaultConfig) {\n        super();\n\n        this.config = config;\n        this.gameObjectType = gameObjectType.METEOR_FIELD;\n\n        this.children = meteorsInGroup;\n\n    }\n\n    animate = () => {\n        for (let meteor of this.children){\n            meteor.animate()\n        }\n    }\n\n\n}","import * as THREE from 'three';\n\nimport { gameObjectType } from './gameObjectTypes.enum';\n\nimport GameFloor from './classes/GameFloor';\nimport Meteor from './classes/Meteor';\nimport Ship from './classes/Ship';\nimport TowerAlpha from './classes/TowerAlpha';\nimport MeteorField from './classes/MeteorField'\n\nconst GameObjectFactory = (gameObjType, config = null, amount = 1, offsetX = 0, value = null) => {\n\n    const isConfig = config ? config : \"\";\n\n    const createGroup = (GameObj, amount, offsetX) => {\n      let group = new THREE.Group();\n    \n      for( let i = 0; i < amount; i++ ){\n          let groupObj = new GameObj();\n          groupObj.position.x = i * offsetX;\n          group.add( groupObj );\n    \n      }\n\n      return group;\n    \n    }\n\n    const createMeteorGroup = (amount, offsetX) => {\n      let meteors = [];\n      for( let i = 0; i < amount; i++ ){\n          let meteorMesh = new Meteor();\n          meteorMesh.position.x = i * offsetX;\n          meteors.push( meteorMesh );\n      }\n\n      return meteors;\n    \n    }\n\n    switch(gameObjType) {\n      case gameObjectType.GAME_FLOOR:\n        return new GameFloor(isConfig);\n        break;\n\n      case gameObjectType.METEOR:\n        if (amount == 1){\n          return new Meteor(isConfig);\n          console.log(\"newmeteor: \")\n        } else {\n          return createGroup(Meteor, amount, offsetX);\n        };\n        break;   \n\n      case gameObjectType.METEOR_FIELD:\n        return new MeteorField(\n          createMeteorGroup(amount, offsetX),\n          isConfig\n        );\n        break;  \n\n      case gameObjectType.SHIP:\n        return new Ship(isConfig);\n        break;    \n        \n      case gameObjectType.TOWER_ALPHA:\n        if (amount == 1){\n          return new TowerAlpha(isConfig);\n        } else {\n          return createGroup(TowerAlpha, amount, offsetX);\n        };\n        break;            \n\n      default:\n        new Error('Invalid gameObjectType');\n        break;\n    }\n\n}\n\nexport default GameObjectFactory;","export const configObjectTypes = {\n    SCENE_MANAGER: \"SCENE_MANAGER\",\n    CAMERA: \"CAMERA\"\n}","import * as THREE from 'three';\nimport '../../lib/DeviceOrientationControls';\nimport '../../lib/OBJLoader';\n\nimport Camera from './configObjects/classes/Camera'\nimport Cannon from './gameObjects/classes/Cannon';\n\nimport { gameObjectType } from './gameObjects/gameObjectTypes.enum'\nimport GameObjectFactory from './gameObjects/GameObjectFactory'\n\nimport { configObjectTypes } from './configObjects/configObjectTypes.enum';\nimport { DEFAULT_METEOR_CONFIG, DEFAULT_METEOR_COORDINATES } from './gameObjects/configs';\nimport {DEFAULT_SCENE_CONFIG as defaultConfig} from './gameObjects/configs';\nimport {hexToString, stringToHex} from '../utils/Utils';\n\n\nexport default class SceneManager {\n  constructor(config = defaultConfig) {\n      this.camera = new Camera();\n      this.raycaster = new THREE.Raycaster();\n      this.scene = new THREE.Scene();\n\n      this.configObjectType = configObjectTypes.SCENE_MANAGER;\n      this.isMobile = config.userData.isMobile;\n\n      this.materials = config.materials;\n      let rendererConfig = {\n        alpha: true,\n        canvas: document.getElementById('game-stage'),\n        antialias: true, \n      }\n      this.renderer = new THREE.WebGLRenderer(rendererConfig);\n      this.sceneData = config.sceneData;\n      this.sceneObjects = config.sceneObjects;\n      this.stageObjects = config.stageObjects;\n      \n      this.state = config.state;\n\n      this.utils = config.sceneUtils;\n      this.userData = config.userData;\n      this.userData.mouse = new THREE.Vector2();\n\n      // ==== REMOVE?? ==== //\n      this.intersects = [];\n      // ==== REMOVE?? ==== //\n\n\n  }\n\n  get mouseCoords (){\n    return this.userData.mouse;\n  }\n  set mouseCoords(newCoords){\n    this.userData.mouse = newCoords;\n  }\n\n  init = () => {\n    const WIDTH = window.innerWidth;\n    const HEIGHT = window.innerHeight;\n    const ASPECT_RATIO = WIDTH / HEIGHT;\n\n    this.camera.position.set(0, 0, -0.5);\n    this.camera.updateProjectionMatrix();\n    this.camera.aspect = ASPECT_RATIO;\n\n    this.renderer.setSize( WIDTH, HEIGHT );\n\n    if(this.isMobile){\n      this.controls = \n        new THREE.DeviceOrientationControls(this.camera, true);\n      this.controls.connect();\n    }\n\n  }\n\n  isCollider = (gameObj) => {\n    let objChildren = gameObj.children;\n\n    if(objChildren.length > 1){\n      objChildren.forEach(function(childObj) {\n        this.utils.canCollide.push(childObj)\n      }, this);\n    } else {\n      this.utils.canCollide.push(gameObj)\n    }\n\n  }\n\n  onKeyDown = (e) => {\n    if (e.type == 'click' || \n        e.type == 'mousedown' ||\n        e.type == 'touchstart'\n      ){\n      let keyCode = e.target.getAttribute('data-buttoncode');\n      this.playerShip.move(keyCode)\n    } else {\n      this.playerShip.move(e.code)\n    }\n\n  }\n\n  onMouseMove = (e) => {\n\n    let windowHalf = new THREE.Vector2( \n      window.innerWidth / 2, \n      window.innerHeight / 2 \n    );\n\n\t  this.mouseCoords.x = ( e.clientX - windowHalf.x );\n    this.mouseCoords.y = ( e.clientY - windowHalf.x );\n    this.camera.onMouseMove(e, this.mouseCoords)\n\n  };\n\n  loadMaterials = () => {\n    let materialColors = this.materials.colors;\n    for (let color in materialColors){\n      let currHex = materialColors[color].hex;\n      let newShader = new THREE.MeshBasicMaterial({\n          color: currHex, wireframe: true\n      })\n      \n      materialColors[color].material = newShader;\n    }\n  }\n\n  onResize = () => {\n    const WIDTH = window.innerWidth;\n    const HEIGHT = window.innerHeight;\n    const ASPECT_RATIO = WIDTH / HEIGHT;    \n\n    this.renderer.setSize(WIDTH, HEIGHT);\n    this.camera.aspect = ASPECT_RATIO;\n    this.camera.updateProjectionMatrix();\n  };\n\n  loadStageObjects = () => {\n    // ==== PLAYER SHIP ==== //\n    this.playerShip = new GameObjectFactory(gameObjectType.SHIP);\n    this.playerShip.position.z = 0;\n    this.stageObjects.push(this.playerShip)\n    // ==== PLAYER SHIP ==== //\n\n    // ==== CANNONS ==== //    \n    let rightShooter = new Cannon({x: -1, y: -0.62, z: -1.5});\n    rightShooter.rotation.y = -.35;\n    rightShooter.rotation.x = .15;    \n    this.camera.add(rightShooter);\n\n    let leftShooter = new Cannon({x: 1, y: -0.62, z: -1.5});\n    leftShooter.rotation.y = .35;\n    leftShooter.rotation.x = .15;\n    this.camera.add(leftShooter);\n    // ==== CANNONS ==== //    \n\n    // ==== STARFIELD ==== //\n    let starField = new GameObjectFactory(gameObjectType.GAME_FLOOR);\n    starField.position.y = -5;\n    starField.position.z = 0;\n\n    starField.rotateX(1.6)\n    this.stageObjects.push(starField)\n    // ==== STARFIELD ==== //\n  \n\n  }\n\n  preload = () => {\n    this.loadMaterials();\n    this.loadStageObjects();\n    this.state = 'PRELOAD';\n\n    for (let i = 1; i <= 9; i++) {\n      let newConfig = JSON.parse(JSON.stringify(DEFAULT_METEOR_CONFIG));\n      \n      newConfig.VALUE = i;\n      newConfig.materials.parent = \n        this.materials.colors['blue'].material;\n      newConfig.materials.destroyVal = \n        this.materials.colors['white'].material;\n      newConfig.COORDINATES = DEFAULT_METEOR_COORDINATES[i.toString()];\n\n      let newMeteor = \n        new GameObjectFactory(gameObjectType.METEOR, newConfig, 1, null, i);\n      this.isCollider(newMeteor);\n      this.sceneObjects.push(newMeteor);\n    }\n\n    this.stageScene()\n\n  }\n\n  stageScene = () => {\n    this.playerShip.add(this.camera)\n    for (let stageObj of this.stageObjects){\n      this.scene.add(stageObj)\n    };\n    this.state = 'STAGED';\n\n  }\n\n  sceneStart = () => {\n    this.playerShip.add(this.camera)\n    for (let gameObj of this.sceneObjects){\n      this.scene.add(gameObj)\n    };\n    this.state = 'ACTIVE';\n  }\n\n  sceneEnd = () => {\n    \n  }\n\n  updateRaycaster = () => {\n\n    this.camera.getWorldPosition(),\n    this.camera.getWorldDirection() \n  \n    this.raycaster.set( \n      this.camera.getWorldPosition(), \n      this.camera.getWorldDirection() \n    );\n\n    this.intersects = this.raycaster.intersectObjects( \n      this.utils.canCollide\n    );\n\n    for ( var i = 0; i < this.intersects.length; i++ ) {\n      // this.intersects[ i ].object.material.color.set( 0x00ff00 );\n      return this.intersects[ i ].object;\n    }\n\n    return null\n    \n  }\n\n  update = () => {\n\n    if(\n      this.state == 'ACTIVE' || this.state == 'STAGED' \n    ){\n\n      for (let child of this.sceneObjects){\n        if (child.hasOwnProperty('animate')){\n          child.animate();\n        }\n      }\n\n      this.renderer.render(this.scene, this.camera);\n\n      if(this.userData.isMobile){\n        this.controls.update();\n      }\n    }\n\n    if (this.playerShip.position.z <= -120 ){\n      this.state = 'END';\n    }\n\n  }\n\n\n}","import { getNonZeroRandomNumber } from '../utils/Utils'\n\nexport default class ClientManager {\n    constructor(isMobile = false) {\n        this.mathDictionary = {\n            1: ['1 X 1', '5 - 4', '9 / 9'],\n            2: ['6 / 3', '18 / 9', '2 X 1'],\n            3: ['6 / 2', ' 3 X 1', '33 / 11'],\n            4: ['2 X 2', '16 / 8', '32 / 7'],\n            5: ['5 X 1', '15 - 10', '7 - 2'],\n            6: ['6 X 1', '36 / 6', '3 x 2'],\n            7: ['77 X 11', '42 / 7', '21 x 3'],\n            8: ['8 X 1', '24 / 4', '96 / 12'],\n            9: ['9 X 1', '36 / 4', '90 / 10'],\n\n        };\n\n        this.isMobile = isMobile;\n        this.currentProblem = \"\";\n        this.currentAnswer = \"\";\n        this.currentTime = 20;\n        this.score = 0;\n\n        this.UI = {\n            problemDisplayEL: document.getElementById('current-problem'),\n            timerDisplayEL: document.getElementById('timer'),\n            scoreKeeperEL: document.getElementById('score-keeper'),\n            userFeedbackDisplay: document.getElementById('user-feedback-display'),\n            mathViewport: document.getElementById('math-viewport'),\n            crosshair: document.getElementById('crosshair'),\n            introDisplay: document.getElementById('intro-page-wrapper')\n        }\n\n    }\n\n\n    activateUI = () => {\n        this.UI.mathViewport.classList.add('active');\n        this.UI.crosshair.classList.add('active');\n        this.UI.introDisplay.classList.remove('active')\n    }\n\n    onStart = (newAnswer) => {\n        this.currentAnswer = newAnswer;\n        let arrayOptions = this.mathDictionary[newAnswer];\n        let newProblemIndex = Math.floor(getNonZeroRandomNumber(1, 9));\n\n        newProblemIndex = Math.abs(newProblemIndex);\n\n        let newProblem = arrayOptions[newProblemIndex];\n\n        this.activateUI();\n        this.updateProblem(newProblem);\n        this.initTimer();\n\n    }\n\n    initTimer = () => {\n        let timeleft = 20;\n        let downloadTimer = setInterval((self) => {\n            if (timeleft.toString().length < 2) {\n                this.UI.timerDisplayEL.innerHTML = '0' + timeleft;\n            } else {\n                this.UI.timerDisplayEL.innerHTML = timeleft;\n            }\n\n            timeleft -= 1;\n            if(timeleft <= 0){\n                clearInterval(downloadTimer);\n                this.UI.timerDisplayEL.innerHTML = \"00\"\n            }\n\n        }, 1000);\n    }\n\n    fetchProblem = (selectedVal) => {\n        let problemArray = this.mathDictionary[selectedVal];\n        let problemIndex = Math.floor(Math.random() * problemArray.length);\n        return problemArray[problemIndex];\n    }\n    \n    updateProblem = () => {\n        let newSelectedAnswerVal = \n            Math.floor(getNonZeroRandomNumber(1, 9));\n        newSelectedAnswerVal = Math.abs(newSelectedAnswerVal);\n        this.updateTargetAnswer(newSelectedAnswerVal);\n\n        let newProblem = this.fetchProblem(newSelectedAnswerVal);\n        this.currentProblem = newProblem;\n        this.UI.problemDisplayEL.innerHTML = this.currentProblem;\n\n    }\n\n    updateTargetAnswer = (newAnswerVal) => {\n        this.currentAnswer = newAnswerVal;\n    }\n\n    updateScore = (newScore) => {\n        this.UI.scoreKeeperEL.innerHTML = newScore;\n    }\n    \n    userInputResponse = (responseState) => {\n        this.UI.userFeedbackDisplay.classList.add(responseState);\n        setTimeout(() => { \n            this.UI.userFeedbackDisplay.classList.remove(responseState)              \n        }, 150)\n    }\n\n    validateAnswer = (userSubmission) => {\n        let responseState = '';\n        let responseVal = 0;\n\n        if (userSubmission === this.currentAnswer){\n            responseState = 'correct';\n            responseVal = 1;\n            \n            let newScore = this.score += 10;\n            this.updateScore(newScore)\n\n        } else {\n            responseState = \"incorrect\";\n        }\n\n        this.userInputResponse(responseState);\n        this.updateProblem();\n        return responseVal;\n    }\n\n\n}","//https://jsfiddle.net/f2Lommf5/14006/\nimport '../styles/index.scss';\n\nimport AppManager from './AppManager';\n\n\nlet appManager = new AppManager();\nappManager.init();\n\n","import '../styles/index.scss';\nimport * as THREE from 'three';\n\nimport SceneManager from './three/SceneManager';\nimport { DEFAULT_SCENE_CONFIG } from './three/gameObjects/configs'\nimport ClientManager from './client/ClientManager';\n\nimport {openFullscreen} from '../scripts/utils/Utils'\n\nexport default class AppManager {\n    constructor() {\n        this.isMobile = this.isMobileDevice();\n\n        let sceneconfig = JSON.parse(JSON.stringify(DEFAULT_SCENE_CONFIG));\n        sceneconfig.userData.isMobile = this.isMobile;\n\n        this.sceneManager = new SceneManager(sceneconfig);\n        this.sceneManager.init();\n\n        this.clientManager = new ClientManager(this.isMobile);\n\n    }\n\n    assignEvenListeners = ({el, assignments}) => {\n        let elementAssignee = el;\n\n        for (let key in assignments) {\n            let currentAssignment = assignments[key];\n            el.addEventListener(key, currentAssignment, false)\n        }\n\n    }\n\n    bindEventListeners = () => {\n        let onPressHoldInterval = null;\n\n        let gameStage = document.getElementById(\"game-stage-wrapper\");\n        let startButton = document.getElementById(\"start\");\n        let controls = document.getElementsByClassName(\"control-button\");\n\n        let gameStageListeners = {\n            el: gameStage,\n            assignments: {\n                'click': this.updateMath,\n                'touchstart': this.updateMath,\n                'keydown': this.updateMath\n            }\n        };\n\n        let startButtonListeners = {\n            el: startButton,\n            assignments: {\n                'click': this.onStart\n            }\n        }\n\n        let controlListeners = {\n            el: controls,\n            assignments: {\n                'click': this.onKeyDown,\n                'touchstart': () => {\n                    onPressHoldInterval = setInterval(\n                        () => this.onKeyDown(event), \n                        300)\n                    ;\n                },\n                'mouseup': clearTimeout(onPressHoldInterval),\n                'touchcancel': clearTimeout(onPressHoldInterval),\n                'touchend': clearTimeout(onPressHoldInterval)\n            }\n        }\n\n        let documentListeners = {\n            el: document,\n            assignments: {\n                'mousemove': this.onMouseMove,\n                'keydown': this.onKeyDown\n            }\n        }\n\n        this.assignEvenListeners(gameStageListeners);\n        this.assignEvenListeners(startButtonListeners);\n        this.assignEvenListeners(documentListeners);\n        window.addEventListener( 'resize', this.onResize, false );\n\n        //REFACTOR - MULTIPLE ELEMENTS\n        Array.from(controls).forEach(function(element) {\n        \n            element.addEventListener('click', this.onKeyDown, false);\n\n            element.addEventListener('touchstart', function(event) {\n                onPressHoldInterval = setInterval(() => this.onKeyDown(event), 300);\n            });\n        \n            element.addEventListener('mouseup', function(e) {\n                clearTimeout(onPressHoldInterval);\n            });\n            \n            element.addEventListener('touchcancel', function(event) {\n                clearTimeout(onPressHoldInterval);\n            });\n        \n            element.addEventListener('touchend', function(event) {\n                clearTimeout(onPressHoldInterval);\n            });\n                  \n        }, this);\n\n\n    }\n\n    isMobileDevice = () => {\n        return (\n            /iPhone|iPad|iPod|Android/i.test(navigator.userAgent)\n        );\n    };\n\n    init = () => {\n        let root = document.documentElement;\n\n        if (this.isMobile) { \n            root.classList.add('isMobile');\n            this.requestFullScreen(document.documentElement); \n        }\n\n        this.bindEventListeners();\n        this.sceneManager.preload();\n        this.renderScene();        \n\n    }\n\n    updateMath = () => {\n        let sceneObjectHit = this.sceneManager.updateRaycaster();\n        if (sceneObjectHit){\n            this.clientManager.validateAnswer(sceneObjectHit.destroyVal);\n        }\n\n    }\n\n    onKeyDown = (e) => {\n        e.preventDefault();\n        this.sceneManager.onKeyDown(e);\n    }\n    \n    onMouseMove = (e) => {\n        e.preventDefault();\n        this.sceneManager.onMouseMove(e);\n    }\n\n    onResize = (e) => {\n        e.preventDefault();\n        this.sceneManager.onResize(e);\n    }\n\n    onStart = () => {\n        this.clientManager.onStart(3);\n        this.sceneManager.sceneStart();\n\n    }\n\n    renderScene = () => {\n        requestAnimationFrame(this.renderScene);\n        this.sceneManager.update();\n    }\n\n    requestFullScreen = (el) => {\n        openFullscreen(el)\n    }\n\n\n}"],"sourceRoot":""}